<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PallyCon NCG iOS SDK: Implementation Guides</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_inka.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">PallyCon NCG iOS SDK<span id="projectnumber">&#160;2.10.1 (Build 20220120)</span>
   </div>
   <div id="projectbrief">INKA Entworks PallyCon DRM Library for iOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'검색','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','검색');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('implementation.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Implementation Guides </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; --title-bar-height: 20px; }
.mac-os-11 { --title-bar-height: 28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857143; overflow-x: hidden; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; tab-size: 4; background-position: inherit; background-repeat: inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) { 
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; background-color: inherit; }
.CodeMirror-linenumber { }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; position: relative !important; background-position: inherit; background-repeat: inherit; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; background-position: 0px 0px; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print { 
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background-color: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) { 
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background-color: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; }
a.md-print-anchor { white-space: pre !important; border: none !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; text-shadow: initial !important; background-position: 0px 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background-color: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print { 
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit; background-repeat: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex: 2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) { 
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) { 
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.428571429rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left-width: 28px; border-left-style: solid; border-left-color: transparent; border-right-width: 28px; border-right-style: solid; border-right-color: transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right-width: 8px; border-right-style: solid; border-right-color: transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit; background-repeat: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; white-space: nowrap; background-position: inherit; background-repeat: inherit; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit; background-repeat: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit; background-repeat: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; border: none !important; background-position: 0px 0px !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; border-width: 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; background-position: 0px 0px; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right-style: none; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-style: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background-color: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print { 
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}


 @media print { @page {margin: 0 0 0 0;} body.typora-export {padding-left: 0; padding-right: 0;} #write {padding:0;}} .typora-export li, .typora-export p, .typora-export,  .footnote-line {white-space: normal;} 
</style><title>NCG-iOS-SDK.Implementation.Guide</title>
</head>
<body class='typora-export'><div class='typora-export-content'>
<div id='write'  class=''><h1 id='sdk-implementation-guide'><span>SDK Implementation Guide</span></h1><p>&nbsp;</p><p><a href='#ncg-sdk-overview'><span>NCG SDK Overview</span></a></p><p><a href='#1-sdk-초기화'><span>1. SDK 초기화</span></a></p><ul><li><a href='#initialize'><span>initialize:</span></a></li><li><a href='#local-web-server'><span>Local Web Server</span></a></li><li><a href='#http-callback-optional'><span>HTTP Callback (Optional)</span></a></li><li><a href='#exception-handle-optional'><span>Exception Handle(Optional)</span></a></li></ul><p><a href='#2-license'><span>2. License</span></a></p><ul><li><a href='#contents-check'><span>Contents Check</span></a></li><li><a href='#license-check'><span>License Check</span></a></li><li><a href='#license-acquisition'><span>License Acquisition</span></a></li><li><a href='#license-remove'><span>License Remove</span></a></li><li><a href='#license-information'><span>License Information</span></a></li></ul><p><a href='#3-playback'><span>3. Playback</span></a></p><ul><li><a href='#download-contents'><span>Download Contents</span></a></li><li><a href='#progressive-download'><span>Progressive Download</span></a></li><li><a href='#http-live-streaminghls'><span>HTTP Live Streaming(HLS)</span></a></li><li><a href='#playback-finish'><span>Playback Finish</span></a></li></ul><p><a href='#4-security'><span>4. Security</span></a></p><ul><li><a href='#secure-time'><span>Secure Time</span></a></li><li><a href='#external-display'><span>External Display</span></a></li><li><a href='#screen-recorder'><span>Screen Recorder</span></a></li></ul><p><a href='#5-ncg-file-io'><span>5. NCG File I/O(Unpack)</span></a></p><ul><li><a href='#createncgfile'><span>createNcgFile</span></a></li><li><a href='#open'><span>open</span></a></li><li><a href='#read'><span>read</span></a></li><li><a href='#close'><span>close</span></a></li><li><a href='#unpack-sample-code'><span>Unpack Sample Code</span></a></li></ul><hr /><p>&nbsp;</p><h2 id='ncg-sdk-overview'><span>NCG SDK Overview</span></h2><p><span>NCG SDK는 패키지된 컨텐츠를 사용할 수 있도록 인터페이스를 제공하는 NCG 클라이언트 SDK이다.</span>
<span>패키지된 컨텐츠는 유효한 라이선스가 존재할 때 사용할 수 있다. 라이선스는 유효 기간, 재생 횟수 등 컨텐츠의 사용 권한에 대한 내용이 암호화되어 있다.</span>
<span>따라서 패키지된 컨텐츠를 사용하기 위해서는 반드시 라이선스가 필요하며, 없다면 라이선스 서버로부터 발급을 요청해야 한다. 패키지된 컨텐츠의 라이선스가 없거나 유효하지 않으면 컨텐츠 사용이 제한된다.</span>
<span>SDK에서 제공하는 인터페이스로 패키지된 컨텐츠를 사용할 수 있으며 일반적으로 아래와 같은 흐름를 따라야 한다. </span></p><div class="md-diagram-panel md-fences-adv-panel"><svg height="923.0078125" version="1.1" width="717.79296875" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 717.79296875 923.0078125" preserveAspectRatio="xMidYMid meet" style="overflow: hidden; position: relative; left: -0.5px; top: -0.765625px;"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block"></path><marker id="raphael-marker-endblock33-objm083j" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock33-obja0kn6" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock33-objklsth" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock33-objlskvh" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock33-objauvnw" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock33-objcousq" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock33-objskv4y" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock33-objt0ow9" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock33-objkuf1c" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock33-objzd4gq" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock33-obj4hpdm" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock33-obj2iutp" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock33-objj70mt" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="currentColor" stroke="none"></use></marker></defs><a xlink:href="#initialize" style=""><rect x="0" y="0" width="73.703125" height="35.65625" rx="20" ry="20" fill="var(--bg-color)" stroke="currentColor" stroke-width="3" class="flowchart" id="st" transform="matrix(1,0,0,1,49.0781,27.5234)" style=""></rect></a><a xlink:href="#initialize" style=""><text x="10" y="17.828125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" id="stt" class="flowchartt" transform="matrix(1,0,0,1,49.0781,27.5234)" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375">initialize:</tspan></text></a><a xlink:href="#contents-check" style=""><path fill="var(--bg-color)" stroke="currentColor" d="M36.64453125,19.67578125L0,39.3515625L73.2890625,78.703125L146.578125,39.3515625L73.2890625,0L0,39.3515625" stroke-width="3" id="isDRM" class="flowchart" transform="matrix(1,0,0,1,12.6406,119.1797)" style=""></path></a><a xlink:href="#contents-check" style=""><text x="41.64453125" y="39.3515625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" id="isDRMt" class="flowchartt" transform="matrix(1,0,0,1,12.6406,119.1797)" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="-3.546875">Packaged</tspan><tspan dy="16.8" x="41.64453125">Contents ?</tspan></text></a><a xlink:href="#license-check" style=""><rect x="0" y="0" width="108.71875" height="35.65625" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="3" class="flowchart" id="licenseCheck" transform="matrix(1,0,0,1,31.5703,275.4063)" style=""></rect></a><a xlink:href="#license-check" style=""><text x="10" y="17.828125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" id="licenseCheckt" class="flowchartt" transform="matrix(1,0,0,1,31.5703,275.4063)" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375">License check</tspan></text></a><a xlink:href="#license-check" style=""><path fill="var(--bg-color)" stroke="currentColor" d="M29.349609375,19.67578125L0,39.3515625L58.69921875,78.703125L117.3984375,39.3515625L58.69921875,0L0,39.3515625" stroke-width="3" id="exist" class="flowchart" transform="matrix(1,0,0,1,27.2305,367.0625)" style=""></path></a><a xlink:href="#license-check" style=""><text x="34.349609375" y="39.3515625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" id="existt" class="flowchartt" transform="matrix(1,0,0,1,27.2305,367.0625)" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="-3.546875">License</tspan><tspan dy="16.8" x="34.349609375">Exist ?</tspan></text></a><a xlink:href="#license-check" style=""><path fill="var(--bg-color)" stroke="currentColor" d="M33.7265625,19.67578125L0,39.3515625L67.453125,78.703125L134.90625,39.3515625L67.453125,0L0,39.3515625" stroke-width="3" id="licenseValid" class="flowchart" transform="matrix(1,0,0,1,18.4766,501.7656)" style=""></path></a><a xlink:href="#license-check" style=""><text x="38.7265625" y="39.3515625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" id="licenseValidt" class="flowchartt" transform="matrix(1,0,0,1,18.4766,501.7656)" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="-3.546875">Valid</tspan><tspan dy="16.8" x="38.7265625">License ?</tspan></text></a><a xlink:href="#3-playback" style=""><rect x="0" y="0" width="136.734375" height="35.65625" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="3" class="flowchart" id="usage" transform="matrix(1,0,0,1,17.5625,657.9922)" style=""></rect></a><a xlink:href="#3-playback" style=""><text x="10" y="17.828125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" id="usaget" class="flowchartt" transform="matrix(1,0,0,1,17.5625,657.9922)" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375">Contents Playback </tspan></text></a><a xlink:href="#license-remove" style=""><rect x="0" y="0" width="124.28125" height="35.65625" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="3" class="flowchart" id="removelicense" transform="matrix(1,0,0,1,23.7891,771.1719)" style=""></rect></a><a xlink:href="#license-remove" style=""><text x="10" y="17.828125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" id="removelicenset" class="flowchartt" transform="matrix(1,0,0,1,23.7891,771.1719)" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375">License Remove </tspan></text></a><a xlink:href="#playback-finish" style=""><rect x="0" y="0" width="56.578125" height="35.65625" rx="20" ry="20" fill="var(--bg-color)" stroke="currentColor" stroke-width="3" class="flowchart" id="e" transform="matrix(1,0,0,1,57.6406,884.3516)" style=""></rect></a><a xlink:href="#playback-finish" style=""><text x="10" y="17.828125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" id="et" class="flowchartt" transform="matrix(1,0,0,1,57.6406,884.3516)" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375">close:</tspan></text></a><a xlink:href="#license-acquisition" style=""><rect x="0" y="0" width="159.859375" height="35.65625" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="3" class="flowchart" id="acquire" transform="matrix(1,0,0,1,209.3828,523.2891)" style=""></rect></a><a xlink:href="#license-acquisition" style=""><rect x="10" y="0" width="139.859375" height="35.65625" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="3" id="acquirei" transform="matrix(1,0,0,1,209.3828,523.2891)" style=""></rect></a><a xlink:href="#license-acquisition" style=""><text x="20" y="17.828125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" id="acquiret" class="flowchartt" transform="matrix(1,0,0,1,209.3828,523.2891)" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375">License Acquisition</tspan></text></a><a xlink:href="#license-check" style=""><path fill="var(--bg-color)" stroke="currentColor" d="M32.267578125,19.67578125L0,39.3515625L64.53515625,78.703125L129.0703125,39.3515625L64.53515625,0L0,39.3515625" stroke-width="3" id="acquireLicensecheck" class="flowchart" transform="matrix(1,0,0,1,440.6367,501.7656)" style=""></path></a><a xlink:href="#license-check" style=""><text x="37.267578125" y="39.3515625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" id="acquireLicensecheckt" class="flowchartt" transform="matrix(1,0,0,1,440.6367,501.7656)" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="-3.546875">Valid</tspan><tspan dy="16.8" x="37.267578125">License?</tspan></text></a><path fill="none" stroke="currentColor" d="M85.9296875,63.1796875C85.9296875,63.1796875,85.9296875,101.38045835494995,85.9296875,114.67984781763516" stroke-width="3" marker-end="url(#raphael-marker-endblock33-objm083j)" style=""></path><path fill="none" stroke="currentColor" d="M85.9296875,197.8828125C85.9296875,197.8828125,85.9296875,254.35777792334557,85.9296875,270.90317794971634" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obja0kn6)" style=""></path><text x="90.9296875" y="207.8828125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.8515625">yes</tspan></text><path fill="none" stroke="currentColor" d="M159.21875,158.53125C159.21875,158.53125,184.21875,158.53125,184.21875,158.53125C184.21875,158.53125,184.21875,859.3515625,184.21875,859.3515625C184.21875,859.3515625,85.9296875,859.3515625,85.9296875,859.3515625C85.9296875,859.3515625,85.9296875,872.6555337905884,85.9296875,879.8531901333481" stroke-width="3" marker-end="url(#raphael-marker-endblock33-objklsth)" style=""></path><text x="164.21875" y="148.53125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375">no</tspan></text><path fill="none" stroke="currentColor" d="M85.9296875,311.0625C85.9296875,311.0625,85.9296875,349.26327085494995,85.9296875,362.56266031763516" stroke-width="3" marker-end="url(#raphael-marker-endblock33-objlskvh)" style=""></path><path fill="none" stroke="currentColor" d="M85.9296875,445.765625C85.9296875,445.765625,85.9296875,483.96639585494995,85.9296875,497.26578531763516" stroke-width="3" marker-end="url(#raphael-marker-endblock33-objauvnw)" style=""></path><text x="90.9296875" y="455.765625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375">yes</tspan></text><path fill="none" stroke="currentColor" d="M144.62890625,406.4140625C144.62890625,406.4140625,178.21875,406.4140625,178.21875,406.4140625C178.21875,406.4140625,184.21875,394.4140625,190.21875,406.4140625C190.21875,406.4140625,289.3125,406.4140625,289.3125,406.4140625C289.3125,406.4140625,289.3125,497.30010879039764,289.3125,518.7790376988705" stroke-width="3" marker-end="url(#raphael-marker-endblock33-objcousq)" style=""></path><text x="149.62890625" y="396.4140625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.8515625">no</tspan></text><path fill="none" stroke="currentColor" d="M85.9296875,580.46875C85.9296875,580.46875,85.9296875,636.9437154233456,85.9296875,653.4891154497163" stroke-width="3" marker-end="url(#raphael-marker-endblock33-objskv4y)" style=""></path><text x="90.9296875" y="590.46875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375">yes</tspan></text><path fill="none" stroke="currentColor" d="M153.3828125,541.1171875C153.3828125,541.1171875,178.21875,541.1171875,178.21875,541.1171875C178.21875,541.1171875,184.21875,529.1171875,190.21875,541.1171875C190.21875,541.1171875,199.22537103295326,541.1171875,204.88969129195902,541.1171875" stroke-width="3" marker-end="url(#raphael-marker-endblock33-objt0ow9)" style=""></path><text x="158.3828125" y="531.1171875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.8515625">no</tspan></text><path fill="none" stroke="currentColor" d="M85.9296875,693.6484375C85.9296875,693.6484375,85.9296875,750.1234029233456,85.9296875,766.6688029497163" stroke-width="3" marker-end="url(#raphael-marker-endblock33-objkuf1c)" style=""></path><path fill="none" stroke="currentColor" d="M85.9296875,806.828125C85.9296875,806.828125,85.9296875,874.3515625,85.9296875,874.3515625C85.9296875,874.3515625,85.9296875,877.1946182250977,85.9296875,879.8488772809505" stroke-width="3" marker-end="url(#raphael-marker-endblock33-objzd4gq)" style=""></path><path fill="none" stroke="currentColor" d="M369.2421875,541.1171875C369.2421875,541.1171875,420.48158331681043,541.1171875,436.1436252022222,541.1171875" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj4hpdm)" style=""></path><path fill="none" stroke="currentColor" d="M505.171875,580.46875C505.171875,580.46875,505.171875,622.9921875,505.171875,622.9921875C505.171875,622.9921875,190.21875,622.9921875,190.21875,622.9921875C190.21875,622.9921875,184.21875,610.9921875,178.21875,622.9921875C178.21875,622.9921875,85.9296875,622.9921875,85.9296875,622.9921875C85.9296875,622.9921875,85.9296875,644.0352592468262,85.9296875,653.4882016330957" stroke-width="3" marker-end="url(#raphael-marker-endblock33-obj2iutp)" style=""></path><text x="510.171875" y="590.46875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.859375">yes</tspan></text><path fill="none" stroke="currentColor" d="M569.70703125,541.1171875C569.70703125,541.1171875,594.70703125,541.1171875,594.70703125,541.1171875C594.70703125,541.1171875,594.70703125,839.3515625,594.70703125,839.3515625C594.70703125,839.3515625,190.21875,839.3515625,190.21875,839.3515625C190.21875,839.3515625,184.21875,827.3515625,178.21875,839.3515625C178.21875,839.3515625,85.9296875,839.3515625,85.9296875,839.3515625C85.9296875,839.3515625,85.9296875,868.454699754715,85.9296875,879.8515337773133" stroke-width="3" marker-end="url(#raphael-marker-endblock33-objj70mt)" style=""></path><text x="574.70703125" y="531.1171875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="currentColor" stroke-width="1" style="text-anchor: start; font-family: Arial; font-size: 14px;"><tspan dy="4.8515625">no</tspan></text></svg></div><blockquote><p><span>NCG SDK 흐름</span></p><ol start='' ><li><span>SDK를 초기화한다.</span></li><li><span>패키지된 컨텐츠인지 확인한다.</span></li></ol><ul><li><span>패키지된 컨텐츠 일경우 라이선스를 확인한다.</span></li><li><span>패키지된 컨텐츠가 아닐경우(클리어 컨텐츠) 종료한다.</span></li></ul><ol start='3' ><li><span>라이선스를 확인한다. </span></li></ol><ul><li><span>만약 라이선스가 있다면 유효한지 확인한다.</span></li><li><span>만약 라이선스가 없다면 라이선스 서버에 라이선스를 요청하고 라이선스를 검증한다.</span></li></ul><ol start='4' ><li><span>라이선스를 검증한다.</span></li></ol><ul><li><span>라이선스가 유효하면 컨텐츠 사용을 허용한다.</span></li><li><span>라이선스가 유효하지 않다면 컨텐츠 사용을 불허한다. </span></li></ul><ol start='5' ><li><span>컨텐츠 사용 후 라이선스를 제거할 수 있다.</span></li></ol><ul><li><span>라이선스 제거는 필요에 따라(Optional) 제거한다.</span></li></ul></blockquote><p>&nbsp;</p><hr /><p>&nbsp;</p><blockquote><p><strong><span>NOTE:</span></strong></p><ul><li><p><span>SDK는 시뮬레이터에서 동작을 지원하지만, 암호화된 콘텐츠 재생에는 제한이 있다.</span></p><ul><li><span>NCG로 암호화된 .mp4 파일은 라이선스에 시뮬레이터 재생 허용이 된 경우 재생이 가능하다</span></li><li><span>HLS-NCG 콘텐츠는 플랫폼 제한으로 시뮬레이터에서 재생이 불가하다.</span></li></ul></li></ul></blockquote><p>&nbsp;</p><hr /><p>&nbsp;</p><h2 id='1-sdk-초기화'><span>1. SDK 초기화</span></h2><h3 id='initialize'><span>Initialize</span></h3><p><span>SDK는 초기화를 통해 RODB(Right Object DataBase), Device ID, On/Off line 정책, Secure Time, Local Web Server 시작 등 운영에 사용되는 정보를 설정한다. </span></p><h4 id='-sharedinstance'><font color="0088CF"><span>+ sharedInstance</span></font></h4><p><span>SDK는 싱글턴 패턴이 적용되어 있으며, </span><code>Ncg2Agent</code><span> 객체를 이용하기 위해서는 </span><code>sharedInstance:</code><span> 를 통해 접근해야 한다. </span>
<span>만약 </span><code>alloc</code><span>, </span><code>init</code><span> 형태로 객체의 생성을 시도한다면 Exception이 발생되므로 직접 객체생성은 피해야 한다.</span>
<em><strong><span>Ncg2Agent</span></strong></em><span> 객체를 생성하여 인스턴스를 획득한다. </span></p><figure><table><thead><tr><th><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td><font color="0088CF"><span>+ (id) sharedInstance</span></font></td><td>&nbsp;</td><td>&nbsp;</td><td><span>Ncg2Agent 객체 생성</span></td></tr></tbody></table></figure><h4 id='--initialize'><font color="#0088CF"><span>- initialize:</span></font></h4><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (BOOL) initialize</span></font></td><td><span>:</span></td><td><span>(OfflineSupportPolicy)policy</span></td><td><span>On/off-line 시나리오 정책 결정</span></td></tr><tr><td style='text-align:right;' ><span>rodbPath</span></td><td><span>:</span></td><td><span>(NSString*)rodbPath</span></td><td><span>라이선스 DB 저장 경로 지정, nil 입력 시 자동 생성</span></td></tr><tr><td style='text-align:right;' ><span>deviceId</span></td><td><span>:</span></td><td><span>(NSString*)deviceId</span></td><td><span>Device ID 입력, nil 입력 시 자동 추출</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>nil이 아닌 경우 에러 리턴</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td style='text-align:right;' ><font color="0088CF"><span>- (BOOL) initialize</span></font></td><td><span>:</span></td><td><span>(OfflineSupportPolicy)policy</span></td><td><span>On/off-line 시나리오 정책 결정</span></td></tr><tr><td style='text-align:right;' ><span>executionLimit</span></td><td><span>:</span></td><td><span>(int)executionLimit</span></td><td><span>off-line일 경우 실행 횟수 지정, &quot;0&quot;이면 무제한</span></td></tr><tr><td style='text-align:right;' ><span>rodbPath</span></td><td><span>:</span></td><td><span>(NSString*)rodbPath</span></td><td><span>라이선스 DB 저장 경로 지정, nil 입력 시 자동 생성</span></td></tr><tr><td style='text-align:right;' ><span>deviceId</span></td><td><span>:</span></td><td><span>(NSString*)deviceId</span></td><td><span>Device ID 입력, nil 입력 시 자동 추출</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>nil이 아닌 경우 에러 리턴</span></td></tr></tbody></table></figure><p><code>Ncg2Agent</code><span> 객체가 생성되면 </span><a href='#initialize'><span>initialize:</span></a><span>를 호출하여 SDK 내 정보를 설정한다. SDK를 사용하기 위해 최소 한번은 호출해야하며 앱 초기화 때 호출을 권장한다.</span></p><p><em><strong><span>OfflineSupportPolicy</span></strong></em><span>는 디바이스가 offline 상태일때 SDK 운영 시나리오에 영향을 미친다. </span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="objectivec"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="objectivec"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">typedef</span> <span class="cm-keyword">enum</span> <span class="cm-variable">_OfflineSupportPolicy</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">OfflineSupportNo</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">OfflineSupportYes</span> <span class="cm-operator">=</span> <span class="cm-number">2</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">} <span class="cm-variable">OfflineSupportPolicy</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><ul><li><code>OfflineSupportNo</code><span>: SDK가 On-line 상태에서만 운영되는 정책이다. </span>
<span>디바이스에 유효한 라이선스가 존재하더라도 항상 라이선스 서버를 통해 라이선스를 획득한다. </span>
<span>만약 앱 보안성을 높이고, 안정적인 운영이 필요하다면 </span><code>OfflineSupportNo</code><span> 정책을 시행하는 것을 권장한다.</span></li><li><code>OfflineSupportYes</code><span>: SDK가 On/Off-line 상태에서 운영되는 정책이다.</span>
<span>디바이스에 유효한 라이선스가 존재하면 이 라이선스를 사용하며, 존재하지 않을 때 라이선스 서버를 통해 라이선스를 획득한다. </span>
<span>만약 디바이스에 이전에 받아 놓은 컨텐츠와 유효한 라이선스가 존재한다면 On/Off-line 상관없이 재생이 가능하다. </span></li></ul><p><em><strong><span>executionLimit</span></strong></em><span> 는 Off-line 상태에서 SDK(or 앱) 실행 횟수를 정할 수 있다. 지정한 횟수 이상 사용하면 On-line 상태에서 </span><a href='#initialize'><span>initialize:</span></a><span>를 호출해야 하며 횟수는 초기화 된다. 실행 횟수 지정은 </span><code>OfflineSupportYes</code><span> 정책일때만 동작하며, </span><code>0</code><span>인 경우 무제한이다.  </span></p><blockquote><p><strong><span>NOTE:</span></strong></p><ul><li><em><span>executionLimit</span></em><span>는 Off-line 상태에서 </span><a href='#initialize'><span>initialize:</span></a><span> 호출 횟수로 백그라운드에서 포그라우드 상태 변이는 횟수에 영향을 미치지 않는다.</span></li><li><em><span>excutionLimit</span></em><span> 파라메터가 없는 </span><a href='#initialize'><span>initialize:</span></a><span>는 </span><em><span>OfflineSupportPolicy</span></em><span>이 </span><code>OfflineSupportYes</code><span>일 경우 Off-line  상태에서 SDK 사용 횟수가 </span><strong><code>10</code></strong><span>회로 설정된다.</span></li></ul></blockquote><p><em><strong><span>rodbPath</span></strong></em><span> 는 RODB 저장 경로를 지정한다. 지정하지 않을 경우 SDK에서 설정된 경로로 지정된다.</span></p><blockquote><p><strong><span>NOTE:</span></strong></p><ul><li><span>RODB(License) 파일을 복사하거나 iTunes를 통한 복원, iCloud 동기화하는 경우 SDK는 RODB 파일 변조로 간주한다.</span></li><li><span>변조된 경우 SDK 내부에서 RODB 파일을 삭제 후 재성성한다.</span></li><li><span>이러한 경우 리턴은 </span><code>YES</code><span>이지만, </span><code>Error</code><span>에 해당 내용이 저장된다.</span></li></ul></blockquote><p><em><strong><span>deviceId</span></strong></em><span> 는 사용자 ID당 이용할 수 있는 디바이스 갯수 제한과 라이선스 서버와 암호화 통신 등에서 중요하게 사용되는 값이다. ID는 유일해야(Unique)하며, 변경되지 않아야 한다. </span><code>nil</code><span>을 입력할 경우 SDK 내부에서 자동 생성된다.</span></p><blockquote><p><strong><span>NOTE:</span></strong></p><ul><li><span>SDK 내부에서 생성된 Device ID는 KeyChain에 저장되고, 앱이 삭제되어도 Device ID는 삭제되지 않는다.</span></li><li><span>앱을 재설치하면 KeyChain에 있는 Device ID를 사용한다.</span></li><li><span>디바이스를 DFU(Device Firmware Upgrade) 시행하면 KeyChain이 초기화되므로 Device ID는 삭제된다.</span></li><li><span>Device ID가 삭제되면 SDK는 새로운 Device ID를 발급한다.</span></li></ul></blockquote><h3 id='local-web-server'><span>Local Web Server</span></h3><p><span>로컬웹서버는 외부출력감지, 다중접속감지, 복호화, 외부서버와 접근 등의 역활을 한다.</span>
<span>로컬웹서버에서 발생하는 이벤트를 받기 위해서는 받고자 하는 곳에서 Delegate를 등록하면 된다.</span>
<span>만약 </span><a href='#2-license'><span>라이선스 확인</span></a><span>하는 과정과 </span><a href='#3-playback'><span>재생</span></a><span>하는 곳이 다른 클래스이라면 각각 이벤트를 받을 수 있도록 Delegate를 등록해줘야 한다. </span></p><h4 id='--getlocalwebserverinstance'><font color="#0088CF"><span>- getLocalWebServerInstance</span></font></h4><p><a href='#initialize'><span>initialize:</span></a><span>에서 내에서 생성된 </span><em><strong><span>Ncg2Webserver</span></strong></em><span> 객체를 얻는다. </span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (Ncg2Webserver*) getLocalWebServerInstance</span></font></td><td>&nbsp;</td><td>&nbsp;</td><td><span>Ncg2Webserver 객체 반환</span></td></tr></tbody></table></figure><h4 id='local-web-server-protocol'><font color="0088CF"><span> Local Web Server Protocol</span></font><span> </span></h4><p><span>Local Web Server 발생하는 이벤트를 받는 콜백함수이다. </span></p><h5 id='--onnotification'><font color="#0088CF"><span>- onNotification:</span></font></h5><p><span>로컬웹서버에서 알림이 있을 경우 알림을 반환한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="brown"><span>WebServerDelegate(Required)</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (void) onNotification</span></font></td><td><span>:</span></td><td><span>(int)notificationCode</span></td><td><span>Noti 코드 반환</span></td></tr><tr><td style='text-align:right;' ><span>notifyMessage</span></td><td><span>:</span></td><td><span>(NSString*)notifyMessage</span></td><td><span>Noti 메시지 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h5 id='--onerror'><font color="#0088CF"><span>- onError:</span></font></h5><p><span>로컬웹서버에서 에러가 발생 했을 경우 에러를 반환한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="brown"><span>WebServerDelegate(Required)</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (void) onError</span></font></td><td><span>:</span></td><td><span>(int)errorCode</span></td><td><span>에러 코드 반환</span></td></tr><tr><td style='text-align:right;' ><span>errorMessage</span></td><td><span>:</span></td><td><span>(NSString*)errorMessage</span></td><td><span>에러 메시지 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h5 id='--oncheckplayerstatus'><font color="#0088CF"><span>- onCheckPlayerStatus:</span></font></h5><p><span>로컬웹서버가 데이터를 전달할 때 실제 플레이어에게 전달하는지 확인하기 위해 사용한다. 로컬웹서버는 일정 시간마다 이 함수를 호출한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="brown"><span>WebServerDelegate(Required)</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (</span><a href='#font-color0088cf-playerstatefont'><span>PlayerState</span></a><span>) onCheckPlayerStatus</span></font></td><td><span>:</span></td><td><span>(NSString*)uri</span></td><td><span>재생 URL 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="objectivec" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="objectivec"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">-</span> (<span class="cm-variable">PlayerState</span>) <span class="cm-variable">onCheckPlayerStatus</span>:(<span class="cm-variable">NSString</span> <span class="cm-operator">*</span>)<span class="cm-variable">uri</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">nReturnVal</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;<span class="cm-comment">//NCGPlayerStatusFailed;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">switch</span> ([<span class="cm-keyword">self</span>.<span class="cm-variable">mPlayer</span>.<span class="cm-variable">currentItem</span> <span class="cm-variable">status</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">case</span> <span class="cm-variable">AVPlayerItemStatusUnknown</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">nReturnVal</span> <span class="cm-operator">=</span> <span class="cm-variable">PlayerStateUnknown</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">case</span> <span class="cm-variable">AVPlayerItemStatusReadyToPlay</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">nReturnVal</span> <span class="cm-operator">=</span> <span class="cm-variable">PlayerStateReadyToPlay</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">default</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">nReturnVal</span> <span class="cm-operator">=</span> <span class="cm-variable">PlayerStateFail</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">nReturnVal</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 418px;"></div><div class="CodeMirror-gutters" style="display: none; height: 418px;"></div></div></div></pre><h4 id='playerstate'><font color="0088CF"><span> PlayerState</span></font></h4><p><span>플레이어의 상태를 나타내기 위한 값이다. </span></p><figure><table><thead><tr><th><font color="880000"><span>PlayerState</span></font></th><th>&nbsp;</th></tr></thead><tbody><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>PlayerStateUnknown</span></font></td><td><span>알 수 없는 플레이어의 상태</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>PlayerStateReadyToPlay</span></font></td><td><span>재생준비가 완료된 상태</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>PlayerStateFail</span></font></td><td><span>에러 혹은 릴리즈된 상태</span></td></tr><tr><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='--setwebserverdelegate'><font color="#0088CF"><span>- setWebServerDelegate:</span></font></h4><p><span>로컬웹서버 이벤트를 받을 클래스의 객체를 등록하는 함수이다. 해당 클래스에 </span><em><strong><span>WebServerDelegate</span></strong></em><span> 선언한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Webserver.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (void) setWebServerDelegate</span></font></td><td><span>:</span></td><td><span>(id&lt; WebServerDelegate &gt;)webServerDelegate</span></td><td><span>이벤트를 받을 객체 등록</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><blockquote><p><strong><span>NOTE:</span></strong></p><ul><li><span>로컬웹서버에서 발생하는 이벤트를 받아 적절하게 이벤트를 처리해야 한다.</span>
<span>예를 들어 외부출력이 제한된 컨텐츠 이용 중 외부출력이 발생했을 경우 로컬웹서버는 복호화를 중단하고 이벤트를 발생시키므로 이를 받아 적절히 처리해야 한다.  </span></li></ul></blockquote><h3 id='http-callback-optional'><span>HTTP Callback (Optional)</span></h3><p><span>SDK는 내부 HTTP 이용하여 필요한 정보를 서버와 주고 받는다. 하지만 내부 HTTP 통신이 아닌 외부에서 통신이 필요할 경우가 있다. 예를 들어 일회성 URL 또는 HTTPS 통신 같은 서비스를 사용한다면 반드시 외부에서 HTTP 통신을 제어해야 한다.</span></p><h4 id='http-callback-protocol'><font color="0088CF"><span> HTTP Callback Protocol</span></font><span> </span></h4><p><span>HTTP 콜백 함수이다.   </span><a href='#sethttprequestdelegate'><span>setHttpRequestDelegate:</span></a><span>로 객체가 등록되면 내부 HTTP 통신은 아래 함수를 통해 진행된다. </span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="brown"><span>NcgHttpRequestDelegate(Required)</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (NSData*) handleHttpRequest</span></font></td><td><span>:</span></td><td><span>(NSString*)requestURL</span></td><td><span>Request URL</span></td></tr><tr><td style='text-align:right;' ><span>urlParameter</span></td><td><span>:</span></td><td><span>(NSString *)parameter</span></td><td><span>URL 추가 정보</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td style='text-align:right;' ><font color="0088CF"><span>- (int) getResponseStatus</span></font></td><td>&nbsp;</td><td>&nbsp;</td><td><span>HTTP 상태 코드 콜백</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td style='text-align:right;' ><font color="0088CF"><span>- (NSString*) getResponseMessage</span></font></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td style='text-align:right;' ><font color="0088CF"><span>- (NSString*) getLastErrorMessage</span></font></td><td>&nbsp;</td><td>&nbsp;</td><td><span>HTTP 오류 메시지 콜백</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='--sethttprequestdelegate'><font color="#0088CF"><span>- setHttpRequestDelegate:</span></font></h4><p><span>HTTP 콜백 이벤트를 받는 클래스의 객체를 등록하는 함수이다. 해당 클래스에 </span><em><strong><span>NcgHttpRequestDelegate</span></strong></em><span>를 선언한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (void) setHttpRequestDelegate</span></font></td><td><span>:</span></td><td><span>(id&lt; NcgHttpRequestDelegate &gt;)delegate</span></td><td><span>이벤트를 받을 객체 등록</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='exception-handle-optional'><span>Exception Handle (Optional)</span></h3><p><span>SDK 내부에서 발생한 오류나 로그를 받고 싶을 때 사용한다. 또한 상용 Crash Report 제품을 사용할 때 내부에서 발생하는 오류를 확인하면 신속한 원인 파악이 가능해진다. </span></p><h3 id='exceptional-event-protocol'><font color="0088CF"><span> Exceptional Event Protocol</span></font><span> </span></h3><p><span>예외 이벤트를 받을 함수이다. 선언하여 내부를 구현하면 된다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="brown"><span>NcgExceptionalEventDelegate(Optional)</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (void) log</span></font></td><td><span>:</span></td><td><span>(NSString*)logMessage</span></td><td><span>로그 메시지 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td style='text-align:right;' ><font color="0088CF"><span>- (void) logHandle</span></font></td><td><span>:</span></td><td><span>(NSError*)error</span></td><td><span>에러 코드 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='--setexceptionaleventdelegate'><font color="#0088CF"><span>- setExceptionalEventDelegate:</span></font></h4><p><span>Exception Event를 받을 클래스의 객체를 등록하는 함수이다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (void) setExceptionalEventDelegate</span></font></td><td><span>:</span></td><td><span>(id&lt; NcgExceptionalEventDelegate &gt;)delegate</span></td><td><span>이벤트를 받을 객체 등록</span></td></tr></tbody></table></figure><p>&nbsp;</p><hr /><p>&nbsp;</p><h2 id='2-license'><span>2. License</span></h2><p><span>이 장에서는 패키지된 컨텐츠의 라이선스 유효성 검사 및 획득/ 제거하는 방법을 알아본다.</span></p><h3 id='contents-check'><span>Contents Check</span></h3><p><span>컨텐츠가 패키지된 컨텐츠인지 확인한다.  </span></p><h4 id='--isncgcontent'><font color="#0088CF"><span>- isNcgContent:</span></font></h4><p><span>파일 경로 또는 URL을 넣으면 패키지된 컨텐츠 여부를 반환한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>-(BOOL) isNcgContent</span></font></td><td><span>:</span></td><td><span>(NSString*)path</span></td><td><span>컨텐츠 경로 또는 URL</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><blockquote><p><strong><span>NOTE:</span></strong></p><ul><li><a href='#isncgcontent'><span>isNcgContent:</span></a><span> 함수는 SDK가 제공하는 함수들 내에서도 많이 사용된다. 예를들어 라이선스 체크, 획득, 검증 같은 함수들 내에서 패키지된 컨텐츠인지를 확인을 먼저 진행한다.</span></li></ul></blockquote><h3 id='license-check'><span>License Check</span></h3><p><span>패키지된 컨텐츠의 라이선스의 존재 및 유효성을 확인한다. </span></p><h4 id='--checklicensevalidbypath'><font color="#0088CF"><span>- checkLicenseValidByPath:</span></font></h4><p><span>패키지된 컨텐츠의 경로 또는 URL를 입력하여 라이선스 유효성을 확인할수 있다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>-(BOOL) checkLicenseValidByPath</span></font></td><td><span>:</span></td><td><span>(NSString*)path</span></td><td><span>컨텐츠 경로 또는 URL</span></td></tr><tr><td style='text-align:right;' ><span>result</span></td><td><span>:</span></td><td><span>(</span><a href='#license-validation'><span>LicenseValidation</span></a><span>*)lv</span></td><td><span>라이선스 검증 결과 반환</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='--checklicensevalidbycid'><font color="#0088CF"><span>- checkLicenseValidByCID:</span></font></h4><p><span>패키지된 컨텐츠의 CID와 Site ID를 입력하여 라이선스 유효성을  확인할 수 있다. </span>
<code>cid</code><span>와 </span><code>siteID</code><span>는 </span><a href='#getncg2headerinfo'><span>getNcg2HeaderInfo:</span></a><span> 로 얻을 수 있다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>-(BOOL) checkLicenseValidByCID</span></font></td><td><span>:</span></td><td><span>(NSString*)cid</span></td><td><span>컨텐츠 ID</span></td></tr><tr><td style='text-align:right;' ><span>siteID</span></td><td><span>:</span></td><td><span>(NSString*)siteID</span></td><td><span>컨텐츠 Site ID</span></td></tr><tr><td style='text-align:right;' ><span>result</span></td><td><span>:</span></td><td><span>(</span><a href='#license-validation'><span>LicenseValidation</span></a><span>*)lv</span></td><td><span>라이선스 검증 결과 반환</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='license-acquisition'><span>License Acquisition</span></h3><p><span>패키지된 컨텐츠의 라이선스가 없을 때 라이선스를 획득 할수 있는 함수이다.</span></p><h4 id='--acquirelicensebypath'><font color="#0088CF"><span>- acquireLicenseByPath:</span></font></h4><p><span>패키지된 컨텐츠의 경로 또는 URL를 입력하여 라이선스 획득을 할수 있다. </span>
<code>orderID</code><span>는 컨테츠 공급자(Contents Provider:CP)가 제공하는 정보이다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>-(BOOL) acquireLicenseByPath</span></font></td><td><span>:</span></td><td><span>(NSString*)path</span></td><td><span>컨텐츠 경로 또는 URL</span></td></tr><tr><td style='text-align:right;' ><span>userID</span></td><td><span>:</span></td><td><span>(NSString*)userID</span></td><td><span>사용자 ID</span></td></tr><tr><td style='text-align:right;' ><span>orderID</span></td><td><span>:</span></td><td><span>(NSString*)orderID</span></td><td><span>구매 ID</span></td></tr><tr><td style='text-align:right;' ><span>isTemporary</span></td><td><span>:</span></td><td><span>(BOOL)</span><a href='#removealltemporarylicense'><span>isTemporary</span></a></td><td><span>라이선스 저장 여부</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='--acquirelicensebycid'><font color="#0088CF"><span>- acquireLicenseByCID:</span></font></h4><p><span>패키지된 컨텐츠의 CID와 Site ID를 입력하여 라이선스 획득할 수 있다. </span>
<code>cid</code><span>와 </span><code>siteID</code><span>는 </span><a href='#getncg2headerinfo'><span>getNcg2HeaderInfo:</span></a><span> 로 얻을 수 있다.</span>
<code>orderID</code><span>는 컨테츠 공급자가 제공하는 정보이다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>-(BOOL) acquireLicenseByCID</span></font></td><td><span>:</span></td><td><span>(NSString*)cid</span></td><td><span>컨텐츠 ID</span></td></tr><tr><td style='text-align:right;' ><span>siteID</span></td><td><span>:</span></td><td><span>(NSString*)siteID</span></td><td><span>컨텐츠 Site ID</span></td></tr><tr><td style='text-align:right;' ><span>userID</span></td><td><span>:</span></td><td><span>(NSString*)userID</span></td><td><span>사용자 ID</span></td></tr><tr><td style='text-align:right;' ><span>orderID</span></td><td><span>:</span></td><td><span>(NSString*)orderID</span></td><td><span>구매 ID</span></td></tr><tr><td style='text-align:right;' ><span>acquisitionUrl</span></td><td><span>:</span></td><td><span>(NSString*)acquisitionUrl</span></td><td><span>라이선스 서버 URL</span></td></tr><tr><td style='text-align:right;' ><span>isTemporary</span></td><td><span>:</span></td><td><span>(BOOL)</span><a href='#removealltemporarylicense'><span>isTemporary</span></a></td><td><span>라이선스 저장 여부</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><blockquote><p><strong><span>NOTE:</span></strong></p><ul><li><span>라이선스를 획득할 때 </span><code>isTemporary</code><span> 파라메터는 라이선스 운용을 결정한다.</span>
<code>YES</code><span>: 라이선스를 저장하지 않다. 라이선스를 저장하지 않고 매번 라이선스 서버에서 획득하는 시나리오에 적합하다.</span>
<span>라이선스를 사용 후에는 반드시 </span><a href='#removealltemporarylicense'><span>removeAllTemporaryLicense:</span></a><span>를 호출하여 메모리상의 라이선스를 제거해줘야 한다.</span>
<code>NO</code><span>: 라이선스를 저장하여 사용한다.  라이선스를 받아 저장하면 저장된 라이선스를 사용하는 시나리오에 적합하다.</span>
<span>필요한 경우 </span><a href='#removelicensebypath'><span>removeLicenseByPath:</span></a><span>, </span><a href='#removelicensebycid'><span>removeLicenseByCID:</span></a><span> 를 호출하여 라이선스를 제거할 수 있다.</span></li><li><a href='#license-acquisition'><span>License Acquisition</span></a><span> 리턴값이 </span><code>NCGERR_LICENSE_SERVER_RESPONSE_ERROR(0xF0002003)</code><span>일 경우 이는 서버의 명시적인 오류이므로 해당 에러(NSError)를 확인해야 한다. </span>
<span>특히 서버 에러 코드가 </span><font color="red"><span>8002</span></font><span> 에러일 경우 커스텀 에러이므로  해당 에러를 확인하여 대응해야 한다.</span></li></ul></blockquote><h4 id='--acquirelicensebytoken'><font color="#0088CF"><span>- acquireLicenseByToken:</span></font></h4><p><span>토큰(</span><code>token</code><span>)을 이용하여 라이선스를 획득할 수 있다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>-(BOOL) acquireLicenseByToken</span></font></td><td><span>:</span></td><td><span>(NSString*)token</span></td><td><span>token</span></td></tr><tr><td style='text-align:right;' ><span>isTemporary</span></td><td><span>:</span></td><td><span>(BOOL)</span><a href='#removealltemporarylicense'><span>isTemporary</span></a></td><td><span>라이선스 저장 여부</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><p><span>토큰(</span><code>token</code><span>)을 이용하여 라이선스를 획득 시 필요한 경우 라이선스 요청 정보를 지정할 수 있다. </span><code>cid</code><span>와 </span><code>siteID</code><span>는 </span><a href='#getncg2headerinfo'><span>getNcg2HeaderInfo:</span></a><span> 로 얻을 수 있다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>-(BOOL) acquireLicenseByToken</span></font></td><td><span>:</span></td><td><span>(NSString*)token</span></td><td><span>token</span></td></tr><tr><td style='text-align:right;' ><span>cid</span></td><td><span>:</span></td><td><span>(NSString*)cid</span></td><td><span>컨텐츠 ID</span></td></tr><tr><td style='text-align:right;' ><span>siteID</span></td><td><span>:</span></td><td><span>(NSString*)siteID</span></td><td><span>컨텐츠 Site ID</span></td></tr><tr><td style='text-align:right;' ><span>userID</span></td><td><span>:</span></td><td><span>(NSString*)userID</span></td><td><span>사용자 ID(optional)</span></td></tr><tr><td style='text-align:right;' ><span>acquisitionUrl</span></td><td><span>:</span></td><td><span>(NSString*)acquisitionUrl</span></td><td><span>라이선스 서버 URL</span></td></tr><tr><td style='text-align:right;' ><span>isTemporary</span></td><td><span>:</span></td><td><span>(BOOL)</span><a href='#removealltemporarylicense'><span>isTemporary</span></a></td><td><span>라이선스 저장 여부</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><blockquote><p><strong><span>NOTE:</span></strong></p><ul><li><span>토큰을 이용하여 라이선스를 획득하기 위해서는 토큰이 이미 생성되어 있어야 합니다.</span></li><li><span>토큰은 콘텐츠 패키지된 정보 </span><code>Site ID</code><span>, </span><code>ContentID(cid)</code><span>, </span><code>Access Key</code><span>가 필요합니다.</span></li><li><span>토큰 발급 과정은 </span><a href='https://sample.pallycon.com/dev/devconsole/customData.do?lang=ko#create-token'><span>PallyCon 멀티 DRM 라이선스 토큰 API</span></a><span>에서 확인할 수 있습니다.</span></li><li><span>토큰 생성에 대한 자세한 정보는 </span><a href='https://pallycon.zendesk.com'><span>INKA HelpDesk</span></a><span>로 문의 주시기 바랍니다.</span></li></ul></blockquote><h3 id='license-remove'><span>License Remove</span></h3><p><span>패키지된 컨텐츠의 라이선스를 삭제할수 있는 함수이다.</span></p><h4 id='--removelicensebypath'><font color="#0088CF"><span>- removeLicenseByPath:</span></font></h4><p><span>저장된 라이선스를 삭제한다. 패키지된 컨텐츠의 경로를 입력하여 라이선스를 삭제 할수 있다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>-(BOOL) removeLicenseByPath</span></font></td><td><span>:</span></td><td><span>(NSString*)path</span></td><td><span>컨텐츠 경로 또는 URL</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='--removelicensebycid'><font color="#0088CF"><span>- removeLicenseByCID:</span></font></h4><p><span>저장된 라이선스를 삭제한다. 패키지된 컨텐츠의 CID를 입력하여 라이선스를 삭제 할 수 있다.</span>
<code>cid</code><span>와 </span><code>siteID</code><span>는 </span><a href='#getncg2headerinfo'><span>getNcg2HeaderInfo:</span></a><span> 로 얻을 수 있다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>-(BOOL) removeLicenseByCID</span></font></td><td><span>:</span></td><td><span>(NSString*)cid</span></td><td><span>컨텐츠 ID</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td style='text-align:right;' ><font color="0088CF"><span>-(BOOL) removeLicenseByCID</span></font></td><td><span>:</span></td><td><span>(NSString*)cid</span></td><td><span>컨텐츠 ID</span></td></tr><tr><td style='text-align:right;' ><span>siteID</span></td><td><span>:</span></td><td><span>(NSString*)siteID</span></td><td><span>컨텐츠 Site ID</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='--removealltemporarylicense'><font color="#0088CF"><span>- removeAllTemporaryLicense:</span></font></h4><p><span>메모리상에 저장된 라이선스를 삭제한다. 패키지된 컨텐츠의 라이선스 획득(</span><a href='#acquirelicensebypath'><span>acquireLicenseByPath</span></a><span>, </span><a href='#acquirelicensebycid'><span>acquireLicenseByCID</span></a><span>) 시 임시로 획득했을 경우(</span><code>isTemporary=YES</code><span>) 해당 컨텐츠 사용이 끝나면  </span><font color="red"><strong><span>반드시 호출하여</span></strong></font><span> 라이선스를 삭제해 줘야한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>-(BOOL) removeAllTemporaryLicense</span></font></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><blockquote><p><strong><span>NOTE:</span></strong></p><ul><li><span>임시로 획득한 라이선스를 제거하지 않으면 어플리케이션이 종료될 때까지 </span><a href='#license-acquisition'><span>License Acquisition</span></a><span>을 시도하지 않는다.</span></li></ul></blockquote><h3 id='license-information'><span>License Information</span></h3><p><span>패키지된 컨텐츠의 라이선스 정보를 확인할 수 있다. 라이선스 정보를 확인하기 위해서는 반드시 라이선스를 획득된 상태여야 한다.</span></p><h4 id='--getlicenseinfobypath'><font color="#0088CF"><span>- getLicenseInfoByPath:</span></font></h4><p><span>획득한 라이선스가 있는 경우 패키지된 컨텐츠의 경로를 입력하여 라이선스 정보를 확인할 수 있다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>-(BOOL) getLicenseInfoByPath</span></font></td><td><span>:</span></td><td><span>(NSString*)path</span></td><td><span>컨텐츠 경로 또는 URL</span></td></tr><tr><td style='text-align:right;' ><span>licenseValidation</span></td><td><span>:</span></td><td><span>(</span><a href='#licensevalidation'><span>LicenseValidation</span></a><span>*)lv</span></td><td><span>라이선스 검증 결과 반환</span></td></tr><tr><td style='text-align:right;' ><span>licenseInformation</span></td><td><span>:</span></td><td><span>(</span><a href='#ncg2licenseinformation'><span>Ncg2LicenseInformation</span></a><span>**)li</span></td><td><span>라이선스 정보 반환</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='--getlicenseinfobycid'><font color="#0088CF"><span>- getLicenseInfoByCID:</span></font></h4><p><span>획득한 라이선스가 있는 경우 패키지된 컨텐츠의 Contents ID(CID)와 Site ID를 입력하여 라이선스 정보를 확인할 수 있다.</span>
<code>cid</code><span>와 </span><code>siteID</code><span>는 </span><a href='#getncg2headerinfo'><span>getNcg2HeaderInfo:</span></a><span> 로 얻을 수 있다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>-(BOOL) getLicenseInfoByCID</span></font></td><td><span>:</span></td><td><span>(NSString*)cid</span></td><td><span>컨텐츠 ID</span></td></tr><tr><td style='text-align:right;' ><span>siteID</span></td><td><span>:</span></td><td><span>(NSString*)siteID</span></td><td><span>컨텐츠 Site ID</span></td></tr><tr><td style='text-align:right;' ><span>licenseValidation</span></td><td><span>:</span></td><td><span>(</span><a href='#licensevalidation'><span>LicenseValidation</span></a><span>*)lv</span></td><td><span>라이선스 검증 결과 반환</span></td></tr><tr><td style='text-align:right;' ><span>licenseInformation</span></td><td><span>:</span></td><td><span>(</span><a href='#ncg2licenseinformation'><span>Ncg2LicenseInformation</span></a><span>**)li</span></td><td><span>라이선스 정보 반환</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='ncg2licenseinformation'><span>Ncg2LicenseInformation </span></h3><p><span>라이선스 정보 클래스이다.</span></p><figure><table><thead><tr><th><font color="880000"><span>Ncg2LicenseInformation</span></font></th><th>&nbsp;</th></tr></thead><tbody><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (NSString*) getPlayStartDate</span></font></td><td><span>라이선스 유효 시작일시</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (NSString*) getPlayEndDate</span></font></td><td><span>라이선스 만료일시</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (long) getPlayFirstDate</span></font></td><td><span>최초 사용 일시</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (NSString*) getPlayVerificationMethod</span></font></td><td><span>기간체크 시 검증 방법</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (long) getPlayDurationHour</span></font></td><td><span>총 가용 시간</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (long) getPlayTotalCount</span></font></td><td><span>남은 가용 횟수</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (long) getPlayRemainCount</span></font></td><td><span>사용하지 않음</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (</span><a href='#per'><span>Ncg2LicenseOutputProtectionPermission</span></a><span>*) getOutputProtectionPermission</span></font></td><td><span>외부출력 허용 여부</span></td></tr><tr><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='ncg2licenseoutputprotectionpermission'><span>Ncg2LicenseOutputProtectionPermission {#per}</span></h3><p><span>외부출력 권한 정보 클래스이다.</span></p><figure><table><thead><tr><th><font color="880000"><span>Ncg2LicenseOutputProtectionPermission</span></font></th><th>&nbsp;</th></tr></thead><tbody><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (bool) getIsExternalDisplayAllow</span></font></td><td><span>외부출력 허용여부</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="gray"><span>- (int) getAps</span></font></td><td><span>사용하지 않음</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="gray"><span>- (int) getCgms_a</span></font></td><td><span>사용하지 않음</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="gray"><span>- (int) getCavendish</span></font></td><td><span>사용하지 않음</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="gray"><span>- (int) getHdcp</span></font></td><td><span>사용하지 않음</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (bool) getIsJailBreakAllow</span></font></td><td><span>탈옥단말 허용여부</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="gray"><span>- (int) getSendReport</span></font></td><td><span>사용하지 않음</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (int) getIsJailBreakExternalDisplayAllow</span></font></td><td><span>탈옥단말 외부출력 허용여부</span></td></tr><tr><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='licensevalidation'><span>LicenseValidation</span></h3><p><span>라이선스 권한 정보이다.</span></p><figure><table><thead><tr><th><font color="880000"><span>LicenseValidation</span></font></th><th>&nbsp;</th><th><span>처리</span></th></tr></thead><tbody><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>LicenseValidationValid</span></font></td><td><span>유효한 라이선스</span></td><td><a href='#3-playback'><span>Playback</span></a></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>LicenseValidationNotExist</span></font></td><td><span>라이선스가 없을 때</span></td><td><a href='#license-acquisition'><span>License Acquisition</span></a></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>LicenseValidationExpired</span></font></td><td><span>라이선스 만료</span></td><td><span>컨텐츠 사용못함</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>LicenseValidationBeforeStartDate</span></font></td><td><span>아직시작 일시가 아닐 때</span></td><td><span>시작일시까지 기다림</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>LicenseValidationExceededPlayCount</span></font></td><td><span>횟수 만료</span></td><td><span>컨텐츠 사용못함</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>LicenseValidationExternalDeviceDisallowed</span></font></td><td><span>외부출력 허용안함</span></td><td><a href='#external-display'><span>External Display</span></a></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>LicenseValidationNotSupportOffline</span></font></td><td><span>Off-line 지원하지 않음</span></td><td><span>On-line 환경 필요</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>LicenseValidationAbnormalDevice</span></font></td><td><span>탈옥 단말 허용안함</span></td><td><span>컨텐츠 사용못함</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>LicenseValidationOfflineTooLong</span></font></td><td><span>Secure Time 업데이트 필요</span></td><td><a href='#updatesecuretimefromserver'><span>updateSecureTimeFromServer</span></a><span>호출</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>LicenseValidationScreenRecorderDetected</span></font></td><td><span>화면녹화 앱이 발견되었을 때</span></td><td><a href='#screen-recorder'><span>Screen Recorder</span></a></td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='header-information'><span>Header Information</span></h3><p><span>패키지된 컨텐츠의 헤더에는 컨텐츠에 대한 정보를 저장하고 있다.</span></p><h4 id='--getncg2headerinfo'><font color="#0088CF"><span>- getNcg2HeaderInfo:</span></font></h4><p><span>패키지된 컨텐츠 파일 헤더 정보를 가져온다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>-(</span><a href='#ncg2headerinformation'><span>Ncg2HeaderInformation</span></a><span>*) getNcg2HeaderInfo</span></font></td><td><span>:</span></td><td><span>(NSString*)path</span></td><td><span>컨텐츠 경로 또는 URL</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='ncg2headerinformation'><span>Ncg2HeaderInformation</span></h3><p><span>패키지된 컨텐츠 헤더 정보를 나타내는 클래스이다.</span></p><figure><table><thead><tr><th><font color="880000"><span>Ncg2HeaderInformation</span></font></th><th>&nbsp;</th></tr></thead><tbody><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (NSString*) contentID</span></font></td><td><span>컨텐츠 ID</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (NSString*) siteID</span></font></td><td><span>사이트 ID</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (NSString*) acquisitionUrl</span></font></td><td><span>라이선스 서버 URL</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (NSString*) source</span></font></td><td><span>서비스 제공자</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (NSString*) packDate</span></font></td><td><span>패키징된 날짜</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (int) encryptionLevel</span></font></td><td><span>암호화 레벨</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>- (int) encryptionRange</span></font></td><td><span>암호화 범위</span></td></tr><tr><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><hr /><p>&nbsp;</p><h2 id='3-playback'><span>3. Playback</span></h2><p><span>패키지된 컨텐츠의 라이선스가 유효하다면 컨텐츠를 사용하면된다. </span>
<span>하지만 패키지된 컨텐츠는 암호화되어 있으므로 이를 복호화해줘야 하는데 이러한 역활은 로컬웹서버가 담당한다. 따라서 패키지된 컨텐츠를 재생할 때 실제 컨텐츠의 경로 또는 URL이 아니라, 로컬웹서버로 요청해야 한다. </span>
<span>이러한 과정을 아래 흐름도에서 볼수 있다.</span></p><div class="md-diagram-panel md-fences-adv-panel"><svg height="440" version="1.1" width="690.515625" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative; left: -0.5px; top: -0.15625px; max-width: 100%; height: auto;" viewBox="0 0 690.515625 440"><desc>Created with Raphaël 2.2.0</desc><defs><marker id="raphael-marker-endblock55-objsyzo9" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objlq0ty" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj5dhuc" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj6o715" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj8c9y4" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objjdqa4" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj7m02u" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objuy11c" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker></defs><rect x="10" y="20" width="77.625" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="20" y="30" width="57.625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="48.8125" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Player</tspan></text><rect x="10" y="382" width="77.625" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="20" y="392" width="57.625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="48.8125" y="401" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Player</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M48.8125,58L48.8125,382" stroke-width="2" style=""></path><rect x="212.4375" y="20" width="173.625" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="222.4375" y="30" width="153.625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="299.25" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Local Web Server</tspan></text><rect x="212.4375" y="382" width="173.625" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="222.4375" y="392" width="153.625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="299.25" y="401" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Local Web Server</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M299.25,58L299.25,382" stroke-width="2" style=""></path><rect x="438.859375" y="20" width="221.65625" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="448.859375" y="30" width="201.65625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="549.6875" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Local/Remote Contents</tspan></text><rect x="438.859375" y="382" width="221.65625" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="448.859375" y="392" width="201.65625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="549.6875" y="401" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Local/Remote Contents</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M549.6875,58L549.6875,382" stroke-width="2" style=""></path><rect x="102.015625" y="74" width="144.03125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="174.03125" y="83" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">1. Playback URL</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M299.25,96C299.25,96,89.11174416542053,96,53.81508400570601,96" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objsyzo9)" stroke-dasharray="6,2" style=""></path><rect x="58.8125" y="112" width="230.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="174.03125" y="121" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">2. Contents Data Request</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M48.8125,134C48.8125,134,258.95075583457947,134,294.247415994294,134" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objlq0ty)" stroke-dasharray="6,2" style=""></path><rect x="309.25" y="150" width="230.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="424.46875" y="159" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">3. Contents Date Request</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M299.25,172C299.25,172,509.38825583457947,172,544.684915994294,172" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj5dhuc)" stroke-dasharray="6,2" style=""></path><rect x="347.65625" y="188" width="153.625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="424.46875" y="197" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">4. Contents Date</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M549.6875,210C549.6875,210,339.54924416542053,210,304.252584005706,210" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj6o715)" stroke-dasharray="6,2" style=""></path><rect x="324.25" y="230" width="124.84375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="386.671875" y="239" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">5. Decryption</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M299.25,225L319.25,225" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="var(--bg-color)" stroke="currentColor" d="M319.25,225L319.25,258" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="var(--bg-color)" stroke="currentColor" d="M319.25,258C319.25,258,310.1691131591797,258,304.2452533841133,258" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-obj8c9y4)" style=""></path><rect x="92.40625" y="264" width="163.25" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="174.03125" y="273" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">6. Decrypted Data</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M299.25,286C299.25,286,89.11174416542053,286,53.81508400570601,286" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objjdqa4)" stroke-dasharray="6,2" style=""></path><rect x="73.8125" y="306" width="105.625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="126.625" y="315" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">7. Playback</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M48.8125,301L68.8125,301" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="var(--bg-color)" stroke="currentColor" d="M68.8125,301L68.8125,334" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="var(--bg-color)" stroke="currentColor" d="M68.8125,334C68.8125,334,59.73161315917969,334,53.80775338411331,334" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-obj7m02u)" style=""></path><rect x="106.8125" y="340" width="134.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="174.03125" y="349" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">8. Play Finish</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M48.8125,362C48.8125,362,258.95075583457947,362,294.247415994294,362" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objuy11c)" stroke-dasharray="6,2" style=""></path></svg></div><blockquote><ol start='' ><li><span>로컬웹서버로부터 재생 URL을 획득한다.</span></li><li><span>플레이어는 로컬웹서버가 준 재생 URL로 컨텐츠 데이터를 요청한다.</span></li><li><span>로컬웹서버는 다운로드된 컨텐츠 또는 원격지에 있는 컨텐츠 데이터를 요청한다.</span></li><li><span>컨텐츠는 암호화된 상태로 로컬웹서버로 전달된다.</span></li><li><span>로컬웹서버는 암호화된 데이터를 복화화한다.</span></li><li><span>복호화된 데이터를 플레이어에게 전달한다. </span></li><li><span>플레이어는 복호화된 데이터를 재생하게 된다.</span></li><li><span>재생이 종료되면 임시 라이선스/재생 URL을 삭제한다.</span></li></ol></blockquote><h3 id='download-contents'><span>Download Contents</span></h3><p><span>다운로드된 컨텐츠나 다운로드 중인 컨텐츠인 경우 아래 함수를 이용하여 재생 URL을 요청한다.</span></p><h4 id='--addlocalfilepathforplayback'><font color="#0088CF"><span>- addLocalFilePathForPlayback:</span></font></h4><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Webserver.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (NSString*) addLocalFilePathForPlayback</span></font></td><td><span>:</span></td><td><span>(NSString*)path</span></td><td><span>저장된 컨텐츠 또는 다운로드 중인 경로</span></td></tr><tr><td style='text-align:right;' ><span>remoteUrlForDnp</span></td><td><span>:</span></td><td><span>(NSString*)remoteUrlForDnp</span></td><td><span>컨텐츠 다운로드 URL</span></td></tr><tr><td style='text-align:right;' ><span>fileSize</span></td><td><span>:</span></td><td><span>(int64_t)fileSize</span></td><td><span>컨텐츠 파일 사이즈</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='progressive-download'><span>Progressive Download</span></h3><p><span>패키지된 컨텐츠가 웹서버에 올려진 컨텐츠일 경우 아래 함수를 이용하여 재생 URL을 요청한다.</span></p><h4 id='--addprogressivedownloadurlforplayback'><font color="#0088CF"><span>- addProgressiveDownloadUrlForPlayback:</span></font></h4><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Webserver.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (NSString*) addProgressiveDownloadUrlForPlayback</span></font></td><td><span>:</span></td><td><span>(NSString*)url</span></td><td><span>컨텐츠 URL</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='http-live-streaminghls'><span>HTTP Live Streaming(HLS) </span></h3><p><span>패키지된 컨텐츠가 HLS 컨텐츠일 경우 재생 URL을 요청할 수 있다. </span></p><h4 id='--addhttplivestreamurlforplayback'><font color="#0088CF"><span>- addHttpLiveStreamUrlForPlayback:</span></font></h4><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Webserver.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (NSString*) addHttpLiveStreamUrlForPlayback</span></font></td><td><span>:</span></td><td><span>(NSString*)url</span></td><td><span>컨텐츠 URL</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td style='text-align:right;' ><font color="0088CF"><span>- (NSString*) addHttpLiveStreamUrlForPlayback</span></font></td><td><span>:</span></td><td><span>(NSString*)url</span></td><td><span>컨텐츠 URL</span></td></tr><tr><td style='text-align:right;' ><span>isLiveHLS</span></td><td><span>:</span></td><td><span>(BOOL)isLiveHLS</span></td><td><span>isLiveHLS 여부</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td style='text-align:right;' ><font color="0088CF"><span>- (NSString*) addHttpLiveStreamUrlForPlayback</span></font></td><td><span>:</span></td><td><span>(NSString*)url</span></td><td><span>컨텐츠 URL</span></td></tr><tr><td style='text-align:right;' ><span>cid</span></td><td><span>:</span></td><td><span>(NSString*)cid</span></td><td><span>컨텐츠 ID</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td style='text-align:right;' ><font color="0088CF"><span>- (NSString*) addHttpLiveStreamUrlForPlayback</span></font></td><td><span>:</span></td><td><span>(NSString*)url</span></td><td><span>컨텐츠 URL</span></td></tr><tr><td style='text-align:right;' ><span>isLiveHLS</span></td><td><span>:</span></td><td><span>(BOOL)isLiveHLS</span></td><td><span>isLiveHLS 여부</span></td></tr><tr><td style='text-align:right;' ><span>contentId</span></td><td><span>:</span></td><td><span>(NSString*)contentId</span></td><td><span>컨텐츠 ID</span></td></tr><tr><td style='text-align:right;' ><span>siteId</span></td><td><span>:</span></td><td><span>(NSString*)siteId</span></td><td><span>사이트 ID</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><p><span>&lt;!--</span>
<a href='#addhttplivestreamurlforplayback'><span>addHttpLiveStreamUrlForPlayback:</span></a><span>와는 다르게 m3u8 경로에 해당되는 key파일을 미리 체크하지 않는 함수이다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Webserver.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (NSString*) addHttpLiveStreamUrlForPlaybackWithoutChecking</span></font></td><td><span>:</span></td><td><span>(NSString*)url</span></td><td><span>컨텐츠 URL</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td style='text-align:right;' ><span>--&gt;</span></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='--decreaseplaybackcount'><font color="#0088CF"><span>- decreasePlaybackCount:</span></font></h4><p><span>횟수제가 적용된 컨텐츠 일경우 컨텐츠를 사용하는 시점 또는 완료된 시점에 </span><font color="red"><span>반드시 호출</span></font><span>하여 횟수를 차감해줘야 한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (BOOL) decreasePlaybackCount</span></font></td><td><span>:</span></td><td><span>(NSString*)path</span></td><td><span>컨텐츠 경로 또는 URL</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><blockquote><p><strong><span>NOTE:</span></strong></p><ul><li><span>횟수 차감 전 횟수 차감에 대한 메시지를 안내하는것이 좋다.</span></li><li><span>남은 횟수는 해당 컨텐츠의 라이선스를 정보(</span><a href='#license-information'><span>License Information</span></a><span>)에서 </span><code>getPlayRemainCount</code><span>확인하면 알수 있다.</span></li><li><span>Sample Project에서는 비디오 컨텐츠 재생 시작 시 횟수를 차감한다.</span></li></ul></blockquote><h3 id='playback-finish'><span>Playback Finish </span></h3><p><span>재생이 종료되면 사용한 재생URL을 삭제한다. </span></p><h4 id='--clearvirtualplaybackurls'><font color="#0088CF"><span>- clearVirtualPlaybackUrls</span></font></h4><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Webserver.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (void) clearVirtualPlaybackUrls</span></font></td><td>&nbsp;</td><td>&nbsp;</td><td><span>플레이어 종료 시 호출한다.</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><hr /><p>&nbsp;</p><h2 id='4-security'><span>4. Security</span></h2><p><span>SDK 동작 중 발생할 수 있는 보안에 운용 요소와 보안 요소에 대해 설명한다.</span></p><h3 id='secure-time'><span>Secure Time</span></h3><p><span>디바이스 시간은 사용자가 변경 가능하므로 패키지된 컨텐츠 사용 시간 검증에 적합하지 않다. 이러한 문제를 해결하기 위해 SDK이 내부에 Secure Time을 관리하고 있다. 하지만 베터리 방전, OS/디바이스/어플리케이션 오류로 인해 시간이 정확한 시간이 아닐 수 있다. 이러한 경우 SDK가 On-line상태에서 시간을 업데이트가 필요함을 리턴하고, 어플리케이션에서 시간을 업데이트 할 수 있도록 안내해야한다. Secure Time은 GMT 시간으로 관리하며 기간제 컨텐츠의 라이선스 검증에 사용된다.</span></p><h4 id='--getncgsecuretime'><font color="#0088CF"><span>- getNcgSecureTime:</span></font></h4><p><span>SDK 내부에서 사용되는 시간을 확인할 수 있다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (NSString*) getNcgSecureTime</span></font></td><td><span>GMT 시간을 리턴</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='--updatesecuretimefromserver'><font color="#0088CF"><span>- updateSecureTimeFromServer:</span></font></h4><p><a href='#licensevalidation'><span>LicenseValidation</span></a><span> 값 중  </span><strong><code>LicenseValidationOfflineTooLong</code></strong><span>이 리턴되면 Secure Time 오차가 발생했다는 의미이므로 Secure Time 을 유효한 시간으로 업데이트 해줘야한다. 시간은 외부서버로부터 얻어오므로 디바이스는 반드시 On-line 상태여야 한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (BOOL) updateSecureTimeFromServer</span></font></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td>&nbsp;</td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='external-display'><span>External Display</span></h3><p><span>라이선스에는 외부출력을 제한할 수 있는 정보가 포함되어 있다. 이 정보에 따라 외부출력이 결정되며, 외부출력을 허용하는 경우 HDMI, Mirror, AirPlay를 통해 다른 화면에 영상을 출력할 수 있다.</span>
<span>외부출력이 제한된 컨텐츠는 사용자에게 </span><code>외부출력이 제한된 컨텐츠</code><span> 임을 안내해야 하며 외부출력 안내는 2가지 시나리오가 있다.</span></p><ul><li><span>컨텐츠 재생 전</span>
<span>외부출력이 연결된 상태에서 컨텐츠 라이선스 확인(</span><a href='#license-check'><span>License Check</span></a><span>) 시 외부출력이 제한된 경우 재생하지 않는다.</span></li><li><span>컨텐츠 재생 중</span>
<span>컨텐츠 재생 중 외부출력 장치가 연결되는 경우 로컬웹서버는 복호화를 멈추고 </span><a href='#onnotification'><span>onNotification:</span></a><span>로 외부출력이 연결되었다는 이벤트가 발생하고 이에 맞는 안내 메시지와 재생을 멈추면된다.</span></li></ul><blockquote><p><strong><span>NOTE:</span></strong></p><ul><li><span>재생 중 외부출력이 연결되면 로컬웹서버는 복호화를 멈추고 데이터를 플레이어에게 주지 않는다. 이때 </span><a href='#onnotification'><span>onNotification:</span></a><span>로 알려주는 알림코드는 </span><code>LWS_NOTIFY_HDMI_DETECTED</code><span>이다.</span></li><li><span>로컬웹서버가 데이터를 주지 않더라도 캐시에 남아있는 데이터를 다 재생한 후 플레이어가 멈추므로 이벤트 발생 시 재생을 바로 멈추는것을 권장한다.</span></li><li><span>iOS8.0 이상 + 라이트닝케이블 + MAC OS 요세미티 QuickTime Player 를 통해 iOS 디바이스 화면을 녹화할 수 있다. 이러한 </span><strong><span>녹화를 방지하기 위해서는 HLS 컨텐츠</span></strong><span>를 사용해야 한다. </span></li></ul></blockquote><h3 id='screen-recorder'><span>Screen Recorder</span></h3><p><span>스크린 녹화 앱을 통해 재생되는 컨텐츠를 녹화할 수 있다. 이러한 녹화앱이 설치된 경우 컨텐츠 재생을 멈추어야 한다.</span></p><h4 id='--setscreenrecorderappdetecting'><font color="#0088CF"><span>- setScreenRecorderAppDetecting:</span></font></h4><p><span>SDK 녹화앱이 설치되어 있는 경우 컨텐츠 재생이 안되도록 되어 있다(디폴트). 하지만 오디오 컨텐츠의 경우 녹화앱 사용이 불편할 수 있다. 이러한 경우 기능을 사용하지 않도록 설정하면 된다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (BOOL) setScreenRecorderAppDetecting</span></font></td><td><span>:</span></td><td><span>(BOOL)enabled</span></td><td><span>녹화앱 검출여부</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='--getdetectedscreenrecordername'><font color="#0088CF"><span>- getDetectedScreenRecorderName:</span></font></h4><p><span>발견된 녹화앱 이름을 리턴한다. 사용자에게 어떤 앱인지 알려주어 삭제하도록 안내한다. </span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (NSString*) getDetectedScreenRecorderName</span></font></td><td><span>발견된 녹화앱이름 리턴</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><blockquote><p><strong><span>NOTE:</span></strong></p><ul><li><span>녹화앱 검출 방식은 녹화앱 리스트를 통해 검출한다. 만약 리스트에 없는 녹화앱이라면 검출되지 않는다.</span></li><li><span>이러한 경우 해당 앱 정보를 잉카에게 제공하여 리스트에 반영하고 업데이트된 SDK를 사용해야 한다.</span></li></ul></blockquote><p>&nbsp;</p><h2 id='5-ncg-file-io'><span>5. NCG File I/O</span></h2><p><span>패키지된 컨텐츠는 일반적인 파일 I/O(fopen, fread, fseek..)로 제어 할 수 없다. 패키지된 컨텐츠를 정확히 읽기 위해서는  </span><code>Ncg2File</code><span> 인터페이스를 이용해야 한다. </span>
<span>이 장에서는 패키지된 NCG 컨텐츠를 제어할 수 있는 파일 I/O 인터페이스와 언팩(Decryption)하는 방법을 설명한다.</span></p><h3 id='--createncgfile'><font color="#0088CF"><span>- createNcgFile:</span></font></h3><p><span>NCG 컨텐츠를 다룰려면 </span><code>Ncg2File</code><span> 객체를 직접 생성하지 말고 </span><a href='#createncgfile-1'><span>createNcgFile:</span></a><span>메소드로 생성해야 한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2Agent.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (Ncg2File*) createNcgFile</span></font></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>NCG file 객체 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='--open'><font color="#0088CF"><span>- open:</span></font></h3><p><span>패키지된 NCG 컨텐츠를 오픈한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2File.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (BOOL) open</span></font></td><td><span>:</span></td><td><span>(NSString*)path</span></td><td><span>파일 경로</span></td></tr><tr><td style='text-align:right;' ><span>isPrepare</span></td><td><span>:</span></td><td><span>(BOOL)isPrepare</span></td><td><span>복호화 가능상태로 파일 오픈할것인지 여부</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><p><em><strong><span>isPrepare</span></strong></em><span> </span><code>YES</code><span>일 경우 패키지된 컨텐츠 정보와 라이선스 정보를 획득하여 언팩이 가능해진다. </span>
<code>NO</code><span> 일 경우 패키지된 컨텐츠 정보만 확보된다.</span></p><blockquote><p><strong><span>NOTE:</span></strong></p><ul><li><span>언팩하려는 컨텐츠의 유효한 라이선스가 존재해야 </span><a href='#open'><span>open</span></a><span> 된다.</span></li><li><span>언팩하려는 컨텐츠의 라이선스가 없다면 라이선스를 획득(</span><a href='#license-acquisition'><span>License Acquisition</span></a><span>)해야 한다.</span></li></ul></blockquote><h3 id='--read'><font color="#0088CF"><span>- read:</span></font></h3><p><span>암호화된 파일 읽어 복호화된 데이터와 실제 읽은 데이터 사이즈를 반환한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2File.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (int) read</span></font></td><td><span>:</span></td><td><span>(unsigned char*)buffer</span></td><td><span>복호화된 데이터가 저장되는 버퍼</span></td></tr><tr><td style='text-align:right;' ><span>sizeToRead</span></td><td><span>:</span></td><td><span>(int)sizeToRead</span></td><td><span>버퍼 사이즈</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='--seek'><font color="#0088CF"><span>- seek:</span></font></h3><p><span>파일의 원하는 위치로 이동할 때 사용한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2File.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (BOOL) seek</span></font></td><td><span>:</span></td><td><span>(int64_t)offset</span></td><td><span>이동시킬 위치지정(offset)</span></td></tr><tr><td style='text-align:right;' ><span>method</span></td><td><span>:</span></td><td><span>(</span><a href='#font-color0088cfseek-methodfont'><span>SeekMethod</span></a><span>)method</span></td><td><span>어느 위치에서 offset을 할것인지 결정</span></td></tr><tr><td style='text-align:right;' ><span>error</span></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>에러 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='seek-method'><font color="#0088CF"><span>Seek Method</span></font></h4><p><span>seek method를 설명한다.</span></p><figure><table><thead><tr><th><font color="880000"><span>Seek Method</span></font></th><th>&nbsp;</th></tr></thead><tbody><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>SM_Begin</span></font></td><td><span>파일 처음 위치</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>SM_Current</span></font></td><td><span>파일 포인터의 현재 위치</span></td></tr><tr><td>&nbsp;<span> </span>&nbsp;<span> </span>&nbsp;<span> </span><font color="0088CF"><span>SM_End</span></font></td><td><span>파일 끝 위치</span></td></tr><tr><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='--getcurrentpointer'><font color="#0088CF"><span>- getCurrentPointer:</span></font></h3><p><span>현재의 파일 포인터 위치를 반환한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2File.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (int64_t) getCurrentPointer</span></font></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>현재 파일 포인터 위치 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='--getcontentsize'><font color="#0088CF"><span>- getContentSize:</span></font></h3><p><span>원본 파일의 크기를 반환한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2File.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (int64_t) getContentSize</span></font></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>원본파일 크기 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='--getncgheadersize'><font color="#0088CF"><span>- getNcgHeaderSize:</span></font></h3><p><span>패키지된 컨텐츠 헤더 크기를 반환한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2File.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (int64_t) getNcgHeaderSize</span></font></td><td><span>:</span></td><td><span>(NSError**)error</span></td><td><span>헤더크기 반환</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='--close'><font color="#0088CF"><span>- close:</span></font></h3><p><span>오픈한 파일 및 할당된 자원을 해제한다.</span></p><figure><table><thead><tr><th style='text-align:right;' ><font color="880000"><span>Ncg2File.h</span></font></th><th>&nbsp;</th><th>&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td style='text-align:right;' ><font color="0088CF"><span>- (void) close</span></font></td><td>&nbsp;</td><td>&nbsp;</td><td><a href='#open'><span>open</span></a><span> 된 파일을 닫는다.</span></td></tr><tr><td style='text-align:right;' >&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><h3 id='unpack-sample-code'><span>Unpack Sample Code</span></h3><p><span>패키지된 컨텐츠를 언팩하는 샘플 코드이다. </span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="objectivec" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="objectivec"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">NSError</span><span class="cm-operator">*</span> <span class="cm-variable">error</span> <span class="cm-operator">=</span> <span class="cm-keyword">nil</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Ncg2File</span><span class="cm-operator">*</span> <span class="cm-variable">ncgFile</span> <span class="cm-operator">=</span> [<span class="cm-variable">Ncg2Agent</span> <span class="cm-variable">createNcgFile</span>:<span class="cm-operator">&amp;</span><span class="cm-variable">error</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span>( <span class="cm-variable">error</span> <span class="cm-operator">!=</span> <span class="cm-keyword">nil</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">NSLog</span>(<span class="cm-keyword">@</span><span class="cm-string">"createNcgFile() Failed!"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span>( [<span class="cm-variable">ncgFile</span> <span class="cm-variable">open</span>:<span class="cm-variable">ncgFilePath</span> <span class="cm-variable">isPrepare</span>:<span class="cm-atom">YES</span> <span class="cm-variable">error</span>:<span class="cm-operator">&amp;</span><span class="cm-variable">error</span>] <span class="cm-operator">==</span> <span class="cm-atom">NO</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">NSLog</span>(<span class="cm-keyword">@</span><span class="cm-string">"open() Failed!"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">FILE</span><span class="cm-operator">*</span> <span class="cm-variable">fp</span> <span class="cm-operator">=</span> <span class="cm-variable">fopen</span>( [<span class="cm-variable">unpackFilePath</span> <span class="cm-variable">UTF8String</span>], <span class="cm-string">"wb"</span> );</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fseeko</span>(<span class="cm-variable">fp</span>, <span class="cm-number">0</span>, <span class="cm-variable">SEEK_SET</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">unsigned</span> <span class="cm-variable-3">char</span> <span class="cm-variable">buffer</span>[<span class="cm-number">8192</span>] <span class="cm-operator">=</span> {<span class="cm-number">0</span>};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span>( <span class="cm-variable">TRUE</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">int32_t</span> <span class="cm-variable">read</span> <span class="cm-operator">=</span> [<span class="cm-variable">ncgFile</span> <span class="cm-variable">read</span>:<span class="cm-variable">buffer</span> <span class="cm-variable">sizeToRead</span>:<span class="cm-keyword">sizeof</span>(<span class="cm-variable">buffer</span>) <span class="cm-variable">error</span>:<span class="cm-operator">&amp;</span><span class="cm-variable">error</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">error</span> <span class="cm-operator">!=</span> <span class="cm-keyword">nil</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">NSLog</span>(<span class="cm-keyword">@</span><span class="cm-string">"read() Failed!"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  [<span class="cm-variable">ncgFile</span> <span class="cm-variable">close</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">fclose</span>( <span class="cm-variable">fp</span> );</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> ( <span class="cm-variable">read</span> <span class="cm-operator">&lt;=</span> <span class="cm-number">0</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">fwrite</span>( <span class="cm-variable">buffer</span>, <span class="cm-number">1</span>, <span class="cm-variable">read</span>, <span class="cm-variable">fp</span> );</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fclose</span>( <span class="cm-variable">fp</span> );</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">[<span class="cm-variable">ncgFile</span> <span class="cm-variable">close</span>];</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 792px;"></div><div class="CodeMirror-gutters" style="display: none; height: 792px;"></div></div></div></pre><hr /></div></div>
</body>
</html>  </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">생성시간 : 목 1월 20 2022 02:35:29, 프로젝트명 : PallyCon NCG iOS SDK, 생성자 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
