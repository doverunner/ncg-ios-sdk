{"metadata":{"title":"PallyCon NCG iOS SDK Guide","role":"article","roleHeading":"Article","modules":[{"name":"iOSNcgSDK"}]},"schemaVersion":{"patch":0,"major":0,"minor":3},"identifier":{"url":"doc:\/\/com.inka.simple.iOSNcgSDK\/documentation\/iOSNcgSDK\/Documentation","interfaceLanguage":"occ"},"variants":[{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/iosncgsdk\/documentation"]}],"sections":[],"kind":"article","primaryContentSections":[{"content":[{"text":"Overview","level":2,"anchor":"Overview","type":"heading"},{"inlineContent":[{"text":"PallyCon ","type":"text"},{"type":"reference","identifier":"https:\/\/pallycon.com\/docs\/en\/multidrm\/clients\/ncg-ios\/","isActive":true},{"type":"text","text":" is an NCG client SDK that provides an interface to use packaged content. Packaged content may be used provided a valid license exists. The license encrypts the validity period of the content, usage environment, etc."}],"type":"paragraph"},{"inlineContent":[{"text":"Therefore, you must have a license to use the packaged content, and if you do not have one, you must request one from the license server.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"If the license for the packaged content is missing or invalid, your use of the content will be restricted."}],"type":"paragraph"},{"type":"heading","text":"NCG SDK Example with PallyCon Token","level":2,"anchor":"NCG-SDK-Example-with-PallyCon-Token"},{"inlineContent":[{"type":"text","text":"Explains the process of acquiring the license and playback URL of NCG content with "},{"identifier":"https:\/\/pallycon.com\/docs\/en\/multidrm\/license\/license-token\/","isActive":true,"type":"reference"},{"type":"text","text":"."}],"type":"paragraph"},{"content":[{"type":"paragraph","inlineContent":[{"text":"This is a simple explanation of how to use the SDK. For more information, please contact ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/pallycon.zendesk.com\/hc\/en-us"},{"text":".","type":"text"}]}],"name":"Note","type":"aside","style":"note"},{"type":"tabNavigator","tabs":[{"content":[{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"To use NCG content, you need a license for this content.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"You can request, acquisition, and store a license on the PallyCon server with a token.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"A valid license can decrypt the content or get the video playback URL.","type":"text"}]}]}]},{"tabs":[{"title":"Swift","content":[{"syntax":"swift","type":"codeListing","code":["import iOSNcgSDK","","let TOKEN = \"PallyCon Token\"","let CONTENT_URL = \"NCG CONTENT URL or PATH\"","","\/\/ 1. NCG SDK initialize","try (Ncg2Agent.sharedInstance() as! Ncg2Agent).initialize(OfflineSupportYes, rodbPath: nil, deviceId: nil)","","\/\/ 2. Content License Acqusition","try (Ncg2Agent.sharedInstance() as! Ncg2Agent).acquireLicense(byToken: TOKEN, isTemporary: true)","","\/\/ 3. You must specify a delegate of the local Web server and implement the webServerDelegate protocol.","(Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","                                          .setWebServerDelegate(self as WebServerDelegate)","","\/\/ 4. Acquire the local Web server address to be played back.","let playUrl = try (Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","                                                            .addLocalFile(forUrl: CONTENT_URL, token: TOKEN)","\/\/ if HLS-NCG content","\/\/ try (Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","\/\/                                               .addHttpLiveStream(forUrl: CONTENT_URL, token: TOKEN)","","\/\/ 5. Playback","let player = AVPlayer(url: URL(string: playUrl)!)"]}]},{"title":"Objective-C","content":[{"type":"codeListing","code":["#import <iOSNcgSDK\/iOSNcgSDK.h>","","NSString* TOKEN = @\"PallyCon Token\"","NSString* CONTENT_URL = @\"NCG CONTENT URL or PATH\"","","\/\/ 1. NCG SDK initialize","[[Ncg2Agent sharedInstance] initialize:OfflineSupportYes rodbPath:nil deviceId:nil error:&error];","","\/\/ 2. Content License Acqusition","[[Ncg2Agent sharedInstance] acquireLicenseByToken:TOKEN isTemporary:NO error:&error];","","\/\/ 3. Set local web server delegate","[[[Ncg2Agent sharedInstance] getLocalWebServerInstance] setWebServerDelegate:self];","","\/\/ 4. Get a playback URL","NSString* playUrl = [self.ncg2agent.getLocalWebServerInstance ","                                    addLocalFileForUrl:CONTENT_URL token:TOKEN error:&error];","\/\/ if HLS-NCG content","\/\/ [self.ncg2agent.getLocalWebServerInstance ","\/\/                 addHttpLiveStreamForUrl:CONTENT_URL token:TOKEN error:&error];","","\/\/ 5. Playback","AVPlayer *player = [AVPlayer playerWithURL:[NSURL URLWithString:playUrl]];"],"syntax":"objectivec"}]}],"type":"tabNavigator"}],"title":"English"},{"content":[{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"NCG 컨텐츠를 사용하려면 이 컨텐츠의 라이선스가 필요합니다."}]}]},{"content":[{"inlineContent":[{"text":"Token으로 PallyCon 서버에 라이선스를 요청하고 획득하여 저장할 수 있습니다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"유효한 라이선스는 컨텐츠 복호화나 동영상 재생 URL을 얻을 수 있습니다.","type":"text"}]}]}],"type":"unorderedList"},{"type":"tabNavigator","tabs":[{"content":[{"code":["    import iOSNcgSDK","","    let TOKEN = \"PallyCon Token\"","    let CONTENT_URL = \"NCG CONTENT URL or PATH\"","","    \/\/ 1. NCG SDK 초기화","    try (Ncg2Agent.sharedInstance() as! Ncg2Agent).initialize(OfflineSupportYes, rodbPath: nil, deviceId: nil)","","    \/\/ 2. 컨텐츠 라이선스 획득","    try (Ncg2Agent.sharedInstance() as! Ncg2Agent).acquireLicense(byToken: TOKEN, isTemporary: true)","","    \/\/ 3. webServerDelegate 프로토콜의 델리케이트를 설정하고 구현","    (Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","                                              .setWebServerDelegate(self as WebServerDelegate)","","    \/\/ 4. 재생 URL 얻기","    let playUrl = try (Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","                                                                .addLocalFile(forUrl: CONTENT_URL, token: TOKEN)","    \/\/ HLS-NCG 컨텐츠인 경우","    \/\/ try (Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","    \/\/                                               .addHttpLiveStream(forUrl: CONTENT_URL, token: TOKEN)","","    \/\/ 5. 재생","    let player = AVPlayer(url: URL(string: playUrl)!)"],"syntax":"swift","type":"codeListing"}],"title":"Swift"},{"title":"Objective-C","content":[{"type":"codeListing","syntax":"objectivec","code":["    #import <iOSNcgSDK\/iOSNcgSDK.h>","","    NSString* TOKEN = @\"PallyCon Token\"","    NSString* CONTENT_URL = @\"NCG CONTENT URL or PATH\"","","    \/\/ 1. NCG SDK 초기화","    [[Ncg2Agent sharedInstance] initialize:OfflineSupportYes rodbPath:nil deviceId:nil error:&error];","","    \/\/ 2. 컨텐츠 라이선스 획득","    [[Ncg2Agent sharedInstance] acquireLicenseByToken:TOKEN isTemporary:NO error:&error];","","    \/\/ 3. webServerDelegate 프로토콜의 델리케이트를 설정하고 구현","    [[[Ncg2Agent sharedInstance] getLocalWebServerInstance] setWebServerDelegate:self];","","    \/\/ 4. 재생 URL 얻기","    NSString* playUrl = [self.ncg2agent.getLocalWebServerInstance ","                                        addLocalFileForUrl:CONTENT_URL token:TOKEN error:&error];","    \/\/ HLS-NCG 컨텐츠인 경우","    \/\/ [self.ncg2agent.getLocalWebServerInstance ","    \/\/                 addHttpLiveStreamForUrl:CONTENT_URL token:TOKEN error:&error];","","    \/\/ 5. 재생","    AVPlayer *player = [AVPlayer playerWithURL:[NSURL URLWithString:playUrl]];"]}]}]}],"title":"한국어"},{"title":"Spnish","content":[{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Para utilizar contenidos NCG, necesitas una licencia para estos contenidos.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Puede solicitar, adquirir y almacenar una licencia en el servidor de PallyCon con un token."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Una licencia válida puede descifrar el contenido u obtener la URL de reproducción del vídeo."}],"type":"paragraph"}]}],"type":"unorderedList"},{"tabs":[{"title":"Swift","content":[{"syntax":"swift","code":["    import iOSNcgSDK","","    let TOKEN = \"PallyCon Token\"","    let CONTENT_URL = \"URL o RUTA DEL CONTENIDO NCG\"","","    \/\/ 1. NCG SDK inicializar","    try (Ncg2Agent.sharedInstance() as! Ncg2Agent).initialize(OfflineSupportYes, rodbPath: nil, deviceId: nil)","","    \/\/ 2. Adquisición de licencias de contenidos","    try (Ncg2Agent.sharedInstance() as! Ncg2Agent).acquireLicense(byToken: TOKEN, isTemporary: true)","","    \/\/ 3. Establecer delegado local del servidor web","    (Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","                                              .setWebServerDelegate(self as WebServerDelegate)","","    \/\/ 4. Obtener una URL de reproducción","    let playUrl = try (Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","                                                                .addLocalFile(forUrl: CONTENT_URL, token: TOKEN)","    \/\/ si el contenido es HLS-NCG","    \/\/ try (Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","    \/\/                                               .addHttpLiveStream(forUrl: CONTENT_URL, token: TOKEN)","","    \/\/ 5. jugar","    let player = AVPlayer(url: URL(string: playUrl)!)"],"type":"codeListing"}]},{"content":[{"type":"codeListing","syntax":"objectivec","code":["    #import <iOSNcgSDK\/iOSNcgSDK.h>","","    NSString* TOKEN = @\"PallyCon Token\"","    NSString* CONTENT_URL = @\"URL o RUTA DEL CONTENIDO NCG\"","","    \/\/ 1. NCG SDK inicializar","    [[Ncg2Agent sharedInstance] initialize:OfflineSupportYes rodbPath:nil deviceId:nil error:&error];","","    \/\/ 2. Adquisición de licencias de contenidos","    [[Ncg2Agent sharedInstance] acquireLicenseByToken:TOKEN isTemporary:NO error:&error];","","    \/\/ 3. Establecer delegado local del servidor web","    [[[Ncg2Agent sharedInstance] getLocalWebServerInstance] setWebServerDelegate:self];","","    \/\/ 4. Obtener una URL de reproducción","    NSString* playUrl = [self.ncg2agent.getLocalWebServerInstance ","                                        addLocalFileForUrl:CONTENT_URL token:TOKEN error:&error];","    \/\/ si el contenido es HLS-NCG","    \/\/ [self.ncg2agent.getLocalWebServerInstance ","    \/\/                 addHttpLiveStreamForUrl:CONTENT_URL token:TOKEN error:&error];","","    \/\/ 5. jugar","    AVPlayer *player = [AVPlayer playerWithURL:[NSURL URLWithString:playUrl]];"]}],"title":"Objective-C"}],"type":"tabNavigator"}]}]},{"anchor":"Contact","type":"heading","level":2,"text":"Contact"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"https:\/\/pallycon.com\/"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"overridingTitle":"PallyCon HelpDesk","type":"reference","overridingTitleInlineContent":[{"text":"PallyCon HelpDesk","type":"text"}],"identifier":"https:\/\/pallycon.zendesk.com\/hc\/en-us","isActive":true}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"https:\/\/pallycon.com\/docs\/en\/","isActive":true}]}]}]}],"kind":"content"}],"hierarchy":{"paths":[["doc:\/\/com.inka.simple.iOSNcgSDK\/documentation\/iOSNcgSDK"]]},"references":{"https://pallycon.com/docs/en/multidrm/license/license-token/":{"url":"https:\/\/pallycon.com\/docs\/en\/multidrm\/license\/license-token\/","title":"PallyCon Token","type":"link","identifier":"https:\/\/pallycon.com\/docs\/en\/multidrm\/license\/license-token\/","titleInlineContent":[{"text":"PallyCon Token","type":"text"}]},"https://pallycon.com/docs/en/multidrm/clients/ncg-ios/":{"title":"iOS NCG SDK","url":"https:\/\/pallycon.com\/docs\/en\/multidrm\/clients\/ncg-ios\/","type":"link","identifier":"https:\/\/pallycon.com\/docs\/en\/multidrm\/clients\/ncg-ios\/","titleInlineContent":[{"type":"text","text":"iOS NCG SDK"}]},"https://pallycon.com/":{"url":"https:\/\/pallycon.com\/","title":"PallyCon official","type":"link","identifier":"https:\/\/pallycon.com\/","titleInlineContent":[{"text":"PallyCon official","type":"text"}]},"doc://com.inka.simple.iOSNcgSDK/documentation/iOSNcgSDK":{"title":"iOSNcgSDK","abstract":[],"url":"\/documentation\/iosncgsdk","type":"topic","kind":"symbol","identifier":"doc:\/\/com.inka.simple.iOSNcgSDK\/documentation\/iOSNcgSDK","role":"collection"},"https://pallycon.zendesk.com/hc/en-us":{"title":"PallyCon HelpDesk","url":"https:\/\/pallycon.zendesk.com\/hc\/en-us","type":"link","identifier":"https:\/\/pallycon.zendesk.com\/hc\/en-us","titleInlineContent":[{"type":"text","text":"PallyCon HelpDesk"}]},"https://pallycon.com/docs/en/":{"url":"https:\/\/pallycon.com\/docs\/en\/","title":"PallyCon Multi-DRM Documents","type":"link","identifier":"https:\/\/pallycon.com\/docs\/en\/","titleInlineContent":[{"text":"PallyCon Multi-DRM Documents","type":"text"}]}}}