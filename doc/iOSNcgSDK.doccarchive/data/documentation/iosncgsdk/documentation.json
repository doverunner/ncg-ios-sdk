{"metadata":{"role":"article","roleHeading":"Article","modules":[{"name":"iOSNcgSDK"}],"title":"PallyCon NCG iOS SDK Guide"},"sections":[],"kind":"article","variants":[{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/iosncgsdk\/documentation"]}],"hierarchy":{"paths":[["doc:\/\/com.inka.simple.iOSNcgSDK\/documentation\/iOSNcgSDK"]]},"schemaVersion":{"minor":3,"patch":0,"major":0},"identifier":{"url":"doc:\/\/com.inka.simple.iOSNcgSDK\/documentation\/iOSNcgSDK\/Documentation","interfaceLanguage":"occ"},"primaryContentSections":[{"content":[{"type":"heading","level":2,"text":"Overview","anchor":"overview"},{"type":"tabNavigator","tabs":[{"content":[{"type":"heading","level":2,"anchor":"Overview","text":"Overview"},{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"https:\/\/pallycon.com\/docs\/en\/multidrm\/clients\/ncg-ios\/"},{"type":"text","text":" provides the relevant interfaces to enable NCG (Netsync Content Guard) DRM to be serviced on iOS."},{"text":" ","type":"text"},{"type":"text","text":"The SDK provides license acquisition, storage management, and decryption of NCG packaged files and NCG packaged HLS contents."}]},{"type":"paragraph","inlineContent":[{"text":"NCG DRM is a proprietary DRM developed by the company, and this SDK must be applied to use it on iOS.","type":"text"}]},{"text":"Prerequisites","level":2,"type":"heading","anchor":"Prerequisites"},{"columns":[{"content":[{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Log in to the "},{"type":"reference","isActive":true,"identifier":"https:\/\/pallycon.com\/"},{"text":".","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"When creating NCG DRM content, ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/inka-pallycon\/pallycon-drm-cli-packager"},{"type":"text","text":" is required."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Acquiring a license for NCG DRM content requires "},{"identifier":"https:\/\/pallycon.com\/docs\/ko\/multidrm\/license\/license-token\/","type":"reference","isActive":true},{"text":".","type":"text"}]}]}],"type":"unorderedList"}],"size":2}],"numberOfColumns":2,"type":"row"},{"type":"heading","level":2,"anchor":"Xcode-Settings","text":"Xcode Settings"},{"columns":[{"size":2,"content":[{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add "},{"inlineContent":[{"type":"text","text":"iOSNcgSDK.xcframework"}],"type":"strong"},{"text":" to ","type":"text"},{"type":"strong","inlineContent":[{"text":"Frameworks and Libraries","type":"text"}]},{"type":"text","text":" in Xcode."}]}]},{"content":[{"inlineContent":[{"text":"Add the framework path to ","type":"text"},{"inlineContent":[{"type":"text","text":"Build Settings -> Framework Search Paths"}],"type":"strong"},{"type":"text","text":" in your project."}],"type":"paragraph"}]}]}]}],"numberOfColumns":2,"type":"row"},{"text":"NCG DRM Workflow","anchor":"NCG-DRM-Workflow","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"In general, the NCG DRM workflow is as follows:"}]},{"columns":[{"size":2,"content":[{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Package(encrypt) content with NCG DRM using PallyCon DRM CLI Packager."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Configure desired restrictions for the packaged content and create PallyCon AuthData.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Request a license to the PallyCon license server with the AuthData generated in the iOS APP.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"The server verifies the DRM content information and AuthData, creates a license, and sends it."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If the received license is valid, it provides decrypted data of the packaged(encrypted) content."}]}]}],"type":"unorderedList"}]}],"type":"row","numberOfColumns":2},{"text":"Example","type":"heading","anchor":"Example","level":2},{"inlineContent":[{"type":"text","text":"The example demonstrates licensing NCG DRM content with PallyCon AuthData and providing a URL for the player to play."}],"type":"paragraph"},{"name":"Note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"This is a simple explanation of how to use the SDK. For more information, please contact ","type":"text"},{"identifier":"https:\/\/pallycon.zendesk.com\/hc\/en-us","isActive":true,"type":"reference"},{"type":"text","text":"."}]}],"style":"note"},{"items":[{"content":[{"inlineContent":[{"text":"You need the packaged NCG DRM content and PallyCon AuthData to obtain the license.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"If the downloaded license is valid, you can get the content decryption or video playback URL."}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"tabNavigator","tabs":[{"title":"Swift","content":[{"code":["import iOSNcgSDK","","let TOKEN = \"PallyCon Token\"","let CONTENT_URL = \"NCG CONTENT URL or PATH\"","","\/\/ 1. NCG SDK initialize","try (Ncg2Agent.sharedInstance() as! Ncg2Agent).initialize(OfflineSupportYes, rodbPath: nil, deviceId: nil)","","\/\/ 2. Content License Acqusition","try (Ncg2Agent.sharedInstance() as! Ncg2Agent).acquireLicense(byToken: TOKEN, isTemporary: true)","","\/\/ 3. You must specify a delegate of the local Web server and implement the webServerDelegate protocol.","(Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","                                          .setWebServerDelegate(self as WebServerDelegate)","","\/\/ 4. Acquire the local Web server address to be played back.","let playUrl = try (Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","                                                            .addLocalFile(forUrl: CONTENT_URL, token: TOKEN)","\/\/ if HLS-NCG content","\/\/ try (Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","\/\/                                               .addHttpLiveStream(forUrl: CONTENT_URL, token: TOKEN)","","\/\/ 5. Playback","let player = AVPlayer(url: URL(string: playUrl)!)"],"type":"codeListing","syntax":"swift"}]},{"title":"Objective-C","content":[{"type":"codeListing","syntax":"objectivec","code":["#import <iOSNcgSDK\/iOSNcgSDK.h>","","NSString* TOKEN = @\"PallyCon Token\"","NSString* CONTENT_URL = @\"NCG CONTENT URL or PATH\"","","\/\/ 1. NCG SDK initialize","[[Ncg2Agent sharedInstance] initialize:OfflineSupportYes rodbPath:nil deviceId:nil error:&error];","","\/\/ 2. Content License Acqusition","[[Ncg2Agent sharedInstance] acquireLicenseByToken:TOKEN isTemporary:NO error:&error];","","\/\/ 3. Set local web server delegate","[[[Ncg2Agent sharedInstance] getLocalWebServerInstance] setWebServerDelegate:self];","","\/\/ 4. Get a playback URL","NSString* playUrl = [self.ncg2agent.getLocalWebServerInstance ","                                    addLocalFileForUrl:CONTENT_URL token:TOKEN error:&error];","\/\/ if HLS-NCG content","\/\/ [self.ncg2agent.getLocalWebServerInstance ","\/\/                 addHttpLiveStreamForUrl:CONTENT_URL token:TOKEN error:&error];","","\/\/ 5. Playback","AVPlayer *player = [AVPlayer playerWithURL:[NSURL URLWithString:playUrl]];"]}]}]}],"title":"English"},{"title":"Korea","content":[{"level":2,"anchor":"%EA%B0%9C%EC%9A%94","type":"heading","text":"개요"},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/pallycon.com\/docs\/en\/multidrm\/clients\/ncg-ios\/","type":"reference","isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"PallyCon iOS NCG SDK"}],"overridingTitle":"PallyCon iOS NCG SDK"},{"text":"은 NCG(Netsync Content Guard) DRM을 iOS에서 서비스할 수 있도록 관련 인터페이스를 제공합니다.","type":"text"},{"type":"text","text":" "},{"text":"SDK는 NCG로 패키징된 컨텐츠와 HLS 콘텐츠의 라이선스 획득, 저장소 관리, 복호화 기능을 제공합니다.","type":"text"}]},{"inlineContent":[{"text":"NCG DRM은 자사에서 자체 개발한 DRM으로, iOS에서 NCG DRM을 사용하려면 SDK를 적용해야 합니다.","type":"text"}],"type":"paragraph"},{"type":"heading","anchor":"%EC%84%A0%ED%96%89-%EC%A1%B0%EA%B1%B4","level":2,"text":"선행 조건"},{"type":"row","numberOfColumns":2,"columns":[{"size":2,"content":[{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"isActive":true,"identifier":"https:\/\/pallycon.com\/","overridingTitle":"PallyCon site","type":"reference","overridingTitleInlineContent":[{"text":"PallyCon site","type":"text"}]},{"type":"text","text":" 에 로그인 합니다."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"컨텐츠를 NCG DRM으로 패키징하려면, "},{"identifier":"https:\/\/github.com\/inka-pallycon\/pallycon-drm-cli-packager","overridingTitleInlineContent":[{"text":"PallyCon DRM CLI Packager","type":"text"}],"isActive":true,"overridingTitle":"PallyCon DRM CLI Packager","type":"reference"},{"text":" 가 필요합니다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"NCG DRM 컨텐츠의 라이선스를 획득하려면 ","type":"text"},{"type":"reference","isActive":true,"overridingTitle":"PallyCon AuthData","overridingTitleInlineContent":[{"text":"PallyCon AuthData","type":"text"}],"identifier":"https:\/\/pallycon.com\/docs\/ko\/multidrm\/license\/license-token\/"},{"type":"text","text":" 생성이 필요합니다."}]}]}]}]}]},{"level":2,"type":"heading","text":"Xcode 설정","anchor":"Xcode-%EC%84%A4%EC%A0%95"},{"columns":[{"size":2,"content":[{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Xcode 에서 ","type":"text"},{"type":"strong","inlineContent":[{"text":"iOSNcgSDK.xcframework","type":"text"}]},{"type":"text","text":" 를 "},{"inlineContent":[{"text":"Frameworks and Libraries","type":"text"}],"type":"strong"},{"type":"text","text":" 에 추가합니다."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"프로젝트에서 ","type":"text"},{"inlineContent":[{"text":"Build Settings -> Framework Search Paths","type":"text"}],"type":"strong"},{"text":" 에 프레임워크 경로를 추가합니다.","type":"text"}],"type":"paragraph"}]}]}]}],"type":"row","numberOfColumns":2},{"text":"NCG DRM 워크플로우","anchor":"NCG-DRM-%EC%9B%8C%ED%81%AC%ED%94%8C%EB%A1%9C%EC%9A%B0","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"일반적인 NCG DRM 워크플로우오는 다음과 같습니다."}],"type":"paragraph"},{"columns":[{"size":2,"content":[{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"PallyCon DRM CLI Packager 로 컨텐츠를 NCG DRM으로 패키징(암호화)합니다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"패키징된 컨텐츠에 원하는 제약사항를 구성하여 "},{"type":"reference","identifier":"https:\/\/pallycon.com\/docs\/ko\/multidrm\/license\/license-token\/","isActive":true,"overridingTitle":"PallyCon AuthData","overridingTitleInlineContent":[{"text":"PallyCon AuthData","type":"text"}]},{"type":"text","text":" 을 생성합니다."}]}]},{"content":[{"inlineContent":[{"text":"iOS APP에서 생성된 AuthData로 PallyCon 라이선스 서버에 라이선스를 요청합니다.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"서버에서는 DRM 컨텐츠 정보와 AuthData를 확인하여 라이선스를 생성하여 보내주고,"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"받은 라이선스가 유효하다면 패키징(암호화)된 컨텐츠의 복호화된 데이터를 제공합니다."}],"type":"paragraph"}]}]}]}],"type":"row","numberOfColumns":2},{"text":"Example","anchor":"Example","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"예제는 PallyCon AuthData로 NCG DRM 컨텐츠의 라이선스를 획득하여 플레이어가 재생할수 있는 URL을 제공을 설명합니다."}],"type":"paragraph"},{"content":[{"type":"paragraph","inlineContent":[{"text":"이 예제는 SDK를 사용하는 심플한 방법을 설명합니다. 더 자세한 사항은 ","type":"text"},{"identifier":"https:\/\/pallycon.zendesk.com\/hc\/en-us","overridingTitle":"PallyCon HelpDesk","type":"reference","isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"PallyCon HelpDesk"}]},{"text":" 으로 문의 주시기 바랍니다.","type":"text"}]}],"style":"note","name":"Note","type":"aside"},{"items":[{"content":[{"inlineContent":[{"text":"패키징된 NCG DRM 컨텐츠가 필요하며 라이선스 획득을 위해 PallyCon AuthData가 있어야 합니다.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"다운로드 받은 라이선스가 유효한 경우 컨텐츠 복호화나 동영상 재생 URL을 얻을 수 있습니다."}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"tabNavigator","tabs":[{"content":[{"syntax":"swift","code":["    import iOSNcgSDK","","    let TOKEN = \"PallyCon Token\"","    let CONTENT_URL = \"NCG CONTENT URL or PATH\"","","    \/\/ 1. NCG SDK 초기화","    try (Ncg2Agent.sharedInstance() as! Ncg2Agent).initialize(OfflineSupportYes, rodbPath: nil, deviceId: nil)","","    \/\/ 2. 컨텐츠 라이선스 획득","    try (Ncg2Agent.sharedInstance() as! Ncg2Agent).acquireLicense(byToken: TOKEN, isTemporary: true)","","    \/\/ 3. webServerDelegate 프로토콜의 델리케이트를 설정하고 구현","    (Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","                                              .setWebServerDelegate(self as WebServerDelegate)","","    \/\/ 4. 재생 URL 얻기","    let playUrl = try (Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","                                                                .addLocalFile(forUrl: CONTENT_URL, token: TOKEN)","    \/\/ HLS-NCG 컨텐츠인 경우","    \/\/ try (Ncg2Agent.sharedInstance() as! Ncg2Agent).getLocalWebServerInstance()","    \/\/                                               .addHttpLiveStream(forUrl: CONTENT_URL, token: TOKEN)","","    \/\/ 5. 재생","    let player = AVPlayer(url: URL(string: playUrl)!)"],"type":"codeListing"}],"title":"Swift"},{"content":[{"code":["    #import <iOSNcgSDK\/iOSNcgSDK.h>","","    NSString* TOKEN = @\"PallyCon Token\"","    NSString* CONTENT_URL = @\"NCG CONTENT URL or PATH\"","","    \/\/ 1. NCG SDK 초기화","    [[Ncg2Agent sharedInstance] initialize:OfflineSupportYes rodbPath:nil deviceId:nil error:&error];","","    \/\/ 2. 컨텐츠 라이선스 획득","    [[Ncg2Agent sharedInstance] acquireLicenseByToken:TOKEN isTemporary:NO error:&error];","","    \/\/ 3. webServerDelegate 프로토콜의 델리케이트를 설정하고 구현","    [[[Ncg2Agent sharedInstance] getLocalWebServerInstance] setWebServerDelegate:self];","","    \/\/ 4. 재생 URL 얻기","    NSString* playUrl = [self.ncg2agent.getLocalWebServerInstance ","                                        addLocalFileForUrl:CONTENT_URL token:TOKEN error:&error];","    \/\/ HLS-NCG 컨텐츠인 경우","    \/\/ [self.ncg2agent.getLocalWebServerInstance ","    \/\/                 addHttpLiveStreamForUrl:CONTENT_URL token:TOKEN error:&error];","","    \/\/ 5. 재생","    AVPlayer *player = [AVPlayer playerWithURL:[NSURL URLWithString:playUrl]];"],"syntax":"objectivec","type":"codeListing"}],"title":"Objective-C"}]}]}]}],"kind":"content"}],"references":{"https://pallycon.com/docs/ko/multidrm/license/license-token/":{"url":"https:\/\/pallycon.com\/docs\/ko\/multidrm\/license\/license-token\/","type":"link","identifier":"https:\/\/pallycon.com\/docs\/ko\/multidrm\/license\/license-token\/","title":"PallyCon AuthData","titleInlineContent":[{"type":"text","text":"PallyCon AuthData"}]},"doc://com.inka.simple.iOSNcgSDK/documentation/iOSNcgSDK":{"identifier":"doc:\/\/com.inka.simple.iOSNcgSDK\/documentation\/iOSNcgSDK","type":"topic","title":"iOSNcgSDK","kind":"symbol","role":"collection","url":"\/documentation\/iosncgsdk","abstract":[]},"https://pallycon.com/docs/en/multidrm/clients/ncg-ios/":{"url":"https:\/\/pallycon.com\/docs\/en\/multidrm\/clients\/ncg-ios\/","type":"link","identifier":"https:\/\/pallycon.com\/docs\/en\/multidrm\/clients\/ncg-ios\/","title":"PallyCon iOS NCG SDK","titleInlineContent":[{"text":"PallyCon iOS NCG SDK","type":"text"}]},"https://pallycon.com/":{"url":"https:\/\/pallycon.com\/","type":"link","identifier":"https:\/\/pallycon.com\/","title":"PallyCon site","titleInlineContent":[{"type":"text","text":"PallyCon site"}]},"https://pallycon.zendesk.com/hc/en-us":{"url":"https:\/\/pallycon.zendesk.com\/hc\/en-us","type":"link","identifier":"https:\/\/pallycon.zendesk.com\/hc\/en-us","title":"PallyCon HelpDesk","titleInlineContent":[{"type":"text","text":"PallyCon HelpDesk"}]},"https://github.com/inka-pallycon/pallycon-drm-cli-packager":{"url":"https:\/\/github.com\/inka-pallycon\/pallycon-drm-cli-packager","type":"link","identifier":"https:\/\/github.com\/inka-pallycon\/pallycon-drm-cli-packager","title":"PallyCon DRM CLI Packager","titleInlineContent":[{"text":"PallyCon DRM CLI Packager","type":"text"}]}}}